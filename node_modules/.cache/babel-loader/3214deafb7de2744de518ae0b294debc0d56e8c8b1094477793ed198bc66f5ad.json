{"ast":null,"code":"/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { AnimationFrame } from '@material/animation/animationframe';\nimport { getCorrectPropertyName } from '@material/animation/util';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { attributes, cssClasses, numbers, strings } from './constants';\nimport { Thumb, TickMark } from './types';\nvar AnimationKeys;\n(function (AnimationKeys) {\n  AnimationKeys[\"SLIDER_UPDATE\"] = \"slider_update\";\n})(AnimationKeys || (AnimationKeys = {}));\n// Accessing `window` without a `typeof` check will throw on Node environments.\nvar HAS_WINDOW = typeof window !== 'undefined';\n/**\n * Foundation class for slider. Responsibilities include:\n * - Updating slider values (internal state and DOM updates) based on client\n *   'x' position.\n * - Updating DOM after slider property updates (e.g. min, max).\n */\nvar MDCSliderFoundation = /** @class */function (_super) {\n  __extends(MDCSliderFoundation, _super);\n  function MDCSliderFoundation(adapter) {\n    var _this = _super.call(this, __assign(__assign({}, MDCSliderFoundation.defaultAdapter), adapter)) || this;\n    // Whether the initial styles (to position the thumb, before component\n    // initialization) have been removed.\n    _this.initialStylesRemoved = false;\n    _this.isDisabled = false;\n    _this.isDiscrete = false;\n    _this.step = numbers.STEP_SIZE;\n    _this.minRange = numbers.MIN_RANGE;\n    _this.hasTickMarks = false;\n    // The following properties are only set for range sliders.\n    _this.isRange = false;\n    // Tracks the thumb being moved across a slider pointer interaction (down,\n    // move event).\n    _this.thumb = null;\n    // `clientX` from the most recent down event. Used in subsequent move\n    // events to determine which thumb to move (in the case of\n    // overlapping thumbs).\n    _this.downEventClientX = null;\n    // Width of the start thumb knob.\n    _this.startThumbKnobWidth = 0;\n    // Width of the end thumb knob.\n    _this.endThumbKnobWidth = 0;\n    _this.animFrame = new AnimationFrame();\n    return _this;\n  }\n  Object.defineProperty(MDCSliderFoundation, \"defaultAdapter\", {\n    get: function () {\n      // tslint:disable:object-literal-sort-keys Methods should be in the same\n      // order as the adapter interface.\n      return {\n        hasClass: function () {\n          return false;\n        },\n        addClass: function () {\n          return undefined;\n        },\n        removeClass: function () {\n          return undefined;\n        },\n        addThumbClass: function () {\n          return undefined;\n        },\n        removeThumbClass: function () {\n          return undefined;\n        },\n        getAttribute: function () {\n          return null;\n        },\n        getInputValue: function () {\n          return '';\n        },\n        setInputValue: function () {\n          return undefined;\n        },\n        getInputAttribute: function () {\n          return null;\n        },\n        setInputAttribute: function () {\n          return null;\n        },\n        removeInputAttribute: function () {\n          return null;\n        },\n        focusInput: function () {\n          return undefined;\n        },\n        isInputFocused: function () {\n          return false;\n        },\n        shouldHideFocusStylesForPointerEvents: function () {\n          return false;\n        },\n        getThumbKnobWidth: function () {\n          return 0;\n        },\n        getValueIndicatorContainerWidth: function () {\n          return 0;\n        },\n        getThumbBoundingClientRect: function () {\n          return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            width: 0,\n            height: 0\n          };\n        },\n        getBoundingClientRect: function () {\n          return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            width: 0,\n            height: 0\n          };\n        },\n        isRTL: function () {\n          return false;\n        },\n        setThumbStyleProperty: function () {\n          return undefined;\n        },\n        removeThumbStyleProperty: function () {\n          return undefined;\n        },\n        setTrackActiveStyleProperty: function () {\n          return undefined;\n        },\n        removeTrackActiveStyleProperty: function () {\n          return undefined;\n        },\n        setValueIndicatorText: function () {\n          return undefined;\n        },\n        getValueToAriaValueTextFn: function () {\n          return null;\n        },\n        updateTickMarks: function () {\n          return undefined;\n        },\n        setPointerCapture: function () {\n          return undefined;\n        },\n        emitChangeEvent: function () {\n          return undefined;\n        },\n        emitInputEvent: function () {\n          return undefined;\n        },\n        emitDragStartEvent: function () {\n          return undefined;\n        },\n        emitDragEndEvent: function () {\n          return undefined;\n        },\n        registerEventHandler: function () {\n          return undefined;\n        },\n        deregisterEventHandler: function () {\n          return undefined;\n        },\n        registerThumbEventHandler: function () {\n          return undefined;\n        },\n        deregisterThumbEventHandler: function () {\n          return undefined;\n        },\n        registerInputEventHandler: function () {\n          return undefined;\n        },\n        deregisterInputEventHandler: function () {\n          return undefined;\n        },\n        registerBodyEventHandler: function () {\n          return undefined;\n        },\n        deregisterBodyEventHandler: function () {\n          return undefined;\n        },\n        registerWindowEventHandler: function () {\n          return undefined;\n        },\n        deregisterWindowEventHandler: function () {\n          return undefined;\n        }\n      };\n      // tslint:enable:object-literal-sort-keys\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MDCSliderFoundation.prototype.init = function () {\n    var _this = this;\n    this.isDisabled = this.adapter.hasClass(cssClasses.DISABLED);\n    this.isDiscrete = this.adapter.hasClass(cssClasses.DISCRETE);\n    this.hasTickMarks = this.adapter.hasClass(cssClasses.TICK_MARKS);\n    this.isRange = this.adapter.hasClass(cssClasses.RANGE);\n    var min = this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_MIN, this.isRange ? Thumb.START : Thumb.END), attributes.INPUT_MIN);\n    var max = this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_MAX, Thumb.END), attributes.INPUT_MAX);\n    var value = this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_VALUE, Thumb.END), attributes.INPUT_VALUE);\n    var valueStart = this.isRange ? this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_VALUE, Thumb.START), attributes.INPUT_VALUE) : min;\n    var stepAttr = this.adapter.getInputAttribute(attributes.INPUT_STEP, Thumb.END);\n    var step = stepAttr ? this.convertAttributeValueToNumber(stepAttr, attributes.INPUT_STEP) : this.step;\n    var minRangeAttr = this.adapter.getAttribute(attributes.DATA_MIN_RANGE);\n    var minRange = minRangeAttr ? this.convertAttributeValueToNumber(minRangeAttr, attributes.DATA_MIN_RANGE) : this.minRange;\n    this.validateProperties({\n      min: min,\n      max: max,\n      value: value,\n      valueStart: valueStart,\n      step: step,\n      minRange: minRange\n    });\n    this.min = min;\n    this.max = max;\n    this.value = value;\n    this.valueStart = valueStart;\n    this.step = step;\n    this.minRange = minRange;\n    this.numDecimalPlaces = getNumDecimalPlaces(this.step);\n    this.valueBeforeDownEvent = value;\n    this.valueStartBeforeDownEvent = valueStart;\n    this.mousedownOrTouchstartListener = this.handleMousedownOrTouchstart.bind(this);\n    this.moveListener = this.handleMove.bind(this);\n    this.pointerdownListener = this.handlePointerdown.bind(this);\n    this.pointerupListener = this.handlePointerup.bind(this);\n    this.thumbMouseenterListener = this.handleThumbMouseenter.bind(this);\n    this.thumbMouseleaveListener = this.handleThumbMouseleave.bind(this);\n    this.inputStartChangeListener = function () {\n      _this.handleInputChange(Thumb.START);\n    };\n    this.inputEndChangeListener = function () {\n      _this.handleInputChange(Thumb.END);\n    };\n    this.inputStartFocusListener = function () {\n      _this.handleInputFocus(Thumb.START);\n    };\n    this.inputEndFocusListener = function () {\n      _this.handleInputFocus(Thumb.END);\n    };\n    this.inputStartBlurListener = function () {\n      _this.handleInputBlur(Thumb.START);\n    };\n    this.inputEndBlurListener = function () {\n      _this.handleInputBlur(Thumb.END);\n    };\n    this.resizeListener = this.handleResize.bind(this);\n    this.registerEventHandlers();\n  };\n  MDCSliderFoundation.prototype.destroy = function () {\n    this.deregisterEventHandlers();\n  };\n  MDCSliderFoundation.prototype.setMin = function (value) {\n    this.min = value;\n    if (!this.isRange) {\n      this.valueStart = value;\n    }\n    this.updateUI();\n  };\n  MDCSliderFoundation.prototype.setMax = function (value) {\n    this.max = value;\n    this.updateUI();\n  };\n  MDCSliderFoundation.prototype.getMin = function () {\n    return this.min;\n  };\n  MDCSliderFoundation.prototype.getMax = function () {\n    return this.max;\n  };\n  /**\n   * - For single point sliders, returns the thumb value.\n   * - For range (two-thumb) sliders, returns the end thumb's value.\n   */\n  MDCSliderFoundation.prototype.getValue = function () {\n    return this.value;\n  };\n  /**\n   * - For single point sliders, sets the thumb value.\n   * - For range (two-thumb) sliders, sets the end thumb's value.\n   */\n  MDCSliderFoundation.prototype.setValue = function (value) {\n    if (this.isRange && value < this.valueStart + this.minRange) {\n      throw new Error(\"end thumb value (\" + value + \") must be >= start thumb \" + (\"value (\" + this.valueStart + \") + min range (\" + this.minRange + \")\"));\n    }\n    this.updateValue(value, Thumb.END);\n  };\n  /**\n   * Only applicable for range sliders.\n   * @return The start thumb's value.\n   */\n  MDCSliderFoundation.prototype.getValueStart = function () {\n    if (!this.isRange) {\n      throw new Error('`valueStart` is only applicable for range sliders.');\n    }\n    return this.valueStart;\n  };\n  /**\n   * Only applicable for range sliders. Sets the start thumb's value.\n   */\n  MDCSliderFoundation.prototype.setValueStart = function (valueStart) {\n    if (!this.isRange) {\n      throw new Error('`valueStart` is only applicable for range sliders.');\n    }\n    if (this.isRange && valueStart > this.value - this.minRange) {\n      throw new Error(\"start thumb value (\" + valueStart + \") must be <= end thumb \" + (\"value (\" + this.value + \") - min range (\" + this.minRange + \")\"));\n    }\n    this.updateValue(valueStart, Thumb.START);\n  };\n  MDCSliderFoundation.prototype.setStep = function (value) {\n    this.step = value;\n    this.numDecimalPlaces = getNumDecimalPlaces(value);\n    this.updateUI();\n  };\n  /**\n   * Only applicable for range sliders. Sets the minimum difference between the\n   * start and end values.\n   */\n  MDCSliderFoundation.prototype.setMinRange = function (value) {\n    if (!this.isRange) {\n      throw new Error('`minRange` is only applicable for range sliders.');\n    }\n    if (value < 0) {\n      throw new Error('`minRange` must be non-negative. ' + (\"Current value: \" + value));\n    }\n    if (this.value - this.valueStart < value) {\n      throw new Error(\"start thumb value (\" + this.valueStart + \") and end thumb value \" + (\"(\" + this.value + \") must differ by at least \" + value + \".\"));\n    }\n    this.minRange = value;\n  };\n  MDCSliderFoundation.prototype.setIsDiscrete = function (value) {\n    this.isDiscrete = value;\n    this.updateValueIndicatorUI();\n    this.updateTickMarksUI();\n  };\n  MDCSliderFoundation.prototype.getStep = function () {\n    return this.step;\n  };\n  MDCSliderFoundation.prototype.getMinRange = function () {\n    if (!this.isRange) {\n      throw new Error('`minRange` is only applicable for range sliders.');\n    }\n    return this.minRange;\n  };\n  MDCSliderFoundation.prototype.setHasTickMarks = function (value) {\n    this.hasTickMarks = value;\n    this.updateTickMarksUI();\n  };\n  MDCSliderFoundation.prototype.getDisabled = function () {\n    return this.isDisabled;\n  };\n  /**\n   * Sets disabled state, including updating styles and thumb tabindex.\n   */\n  MDCSliderFoundation.prototype.setDisabled = function (disabled) {\n    this.isDisabled = disabled;\n    if (disabled) {\n      this.adapter.addClass(cssClasses.DISABLED);\n      if (this.isRange) {\n        this.adapter.setInputAttribute(attributes.INPUT_DISABLED, '', Thumb.START);\n      }\n      this.adapter.setInputAttribute(attributes.INPUT_DISABLED, '', Thumb.END);\n    } else {\n      this.adapter.removeClass(cssClasses.DISABLED);\n      if (this.isRange) {\n        this.adapter.removeInputAttribute(attributes.INPUT_DISABLED, Thumb.START);\n      }\n      this.adapter.removeInputAttribute(attributes.INPUT_DISABLED, Thumb.END);\n    }\n  };\n  /** @return Whether the slider is a range slider. */\n  MDCSliderFoundation.prototype.getIsRange = function () {\n    return this.isRange;\n  };\n  /**\n   * - Syncs slider boundingClientRect with the current DOM.\n   * - Updates UI based on internal state.\n   */\n  MDCSliderFoundation.prototype.layout = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n      skipUpdateUI = _b.skipUpdateUI;\n    this.rect = this.adapter.getBoundingClientRect();\n    if (this.isRange) {\n      this.startThumbKnobWidth = this.adapter.getThumbKnobWidth(Thumb.START);\n      this.endThumbKnobWidth = this.adapter.getThumbKnobWidth(Thumb.END);\n    }\n    if (!skipUpdateUI) {\n      this.updateUI();\n    }\n  };\n  /** Handles resize events on the window. */\n  MDCSliderFoundation.prototype.handleResize = function () {\n    this.layout();\n  };\n  /**\n   * Handles pointer down events on the slider root element.\n   */\n  MDCSliderFoundation.prototype.handleDown = function (event) {\n    if (this.isDisabled) return;\n    this.valueStartBeforeDownEvent = this.valueStart;\n    this.valueBeforeDownEvent = this.value;\n    var clientX = event.clientX != null ? event.clientX : event.targetTouches[0].clientX;\n    this.downEventClientX = clientX;\n    var value = this.mapClientXOnSliderScale(clientX);\n    this.thumb = this.getThumbFromDownEvent(clientX, value);\n    if (this.thumb === null) return;\n    this.handleDragStart(event, value, this.thumb);\n    this.updateValue(value, this.thumb, {\n      emitInputEvent: true\n    });\n  };\n  /**\n   * Handles pointer move events on the slider root element.\n   */\n  MDCSliderFoundation.prototype.handleMove = function (event) {\n    if (this.isDisabled) return;\n    // Prevent scrolling.\n    event.preventDefault();\n    var clientX = event.clientX != null ? event.clientX : event.targetTouches[0].clientX;\n    var dragAlreadyStarted = this.thumb != null;\n    this.thumb = this.getThumbFromMoveEvent(clientX);\n    if (this.thumb === null) return;\n    var value = this.mapClientXOnSliderScale(clientX);\n    if (!dragAlreadyStarted) {\n      this.handleDragStart(event, value, this.thumb);\n      this.adapter.emitDragStartEvent(value, this.thumb);\n    }\n    this.updateValue(value, this.thumb, {\n      emitInputEvent: true\n    });\n  };\n  /**\n   * Handles pointer up events on the slider root element.\n   */\n  MDCSliderFoundation.prototype.handleUp = function () {\n    var _a, _b;\n    if (this.isDisabled || this.thumb === null) return;\n    // Remove the focused state and hide the value indicator(s) (if present)\n    // if focus state is meant to be hidden.\n    if ((_b = (_a = this.adapter).shouldHideFocusStylesForPointerEvents) === null || _b === void 0 ? void 0 : _b.call(_a)) {\n      this.handleInputBlur(this.thumb);\n    }\n    var oldValue = this.thumb === Thumb.START ? this.valueStartBeforeDownEvent : this.valueBeforeDownEvent;\n    var newValue = this.thumb === Thumb.START ? this.valueStart : this.value;\n    if (oldValue !== newValue) {\n      this.adapter.emitChangeEvent(newValue, this.thumb);\n    }\n    this.adapter.emitDragEndEvent(newValue, this.thumb);\n    this.thumb = null;\n  };\n  /**\n   * For range, discrete slider, shows the value indicator on both thumbs.\n   */\n  MDCSliderFoundation.prototype.handleThumbMouseenter = function () {\n    if (!this.isDiscrete || !this.isRange) return;\n    this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.START);\n    this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.END);\n  };\n  /**\n   * For range, discrete slider, hides the value indicator on both thumbs.\n   */\n  MDCSliderFoundation.prototype.handleThumbMouseleave = function () {\n    var _a, _b;\n    if (!this.isDiscrete || !this.isRange) return;\n    if (!((_b = (_a = this.adapter).shouldHideFocusStylesForPointerEvents) === null || _b === void 0 ? void 0 : _b.call(_a)) && (this.adapter.isInputFocused(Thumb.START) || this.adapter.isInputFocused(Thumb.END)) || this.thumb) {\n      // Leave value indicator shown if either input is focused or the thumb is\n      // being dragged.\n      return;\n    }\n    this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.START);\n    this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.END);\n  };\n  MDCSliderFoundation.prototype.handleMousedownOrTouchstart = function (event) {\n    var _this = this;\n    var moveEventType = event.type === 'mousedown' ? 'mousemove' : 'touchmove';\n    // After a down event on the slider root, listen for move events on\n    // body (so the slider value is updated for events outside of the\n    // slider root).\n    this.adapter.registerBodyEventHandler(moveEventType, this.moveListener);\n    var upHandler = function () {\n      _this.handleUp();\n      // Once the drag is finished (up event on body), remove the move\n      // handler.\n      _this.adapter.deregisterBodyEventHandler(moveEventType, _this.moveListener);\n      // Also stop listening for subsequent up events.\n      _this.adapter.deregisterEventHandler('mouseup', upHandler);\n      _this.adapter.deregisterEventHandler('touchend', upHandler);\n    };\n    this.adapter.registerBodyEventHandler('mouseup', upHandler);\n    this.adapter.registerBodyEventHandler('touchend', upHandler);\n    this.handleDown(event);\n  };\n  MDCSliderFoundation.prototype.handlePointerdown = function (event) {\n    var isPrimaryButton = event.button === 0;\n    if (!isPrimaryButton) return;\n    if (event.pointerId != null) {\n      this.adapter.setPointerCapture(event.pointerId);\n    }\n    this.adapter.registerEventHandler('pointermove', this.moveListener);\n    this.handleDown(event);\n  };\n  /**\n   * Handles input `change` event by setting internal slider value to match\n   * input's new value.\n   */\n  MDCSliderFoundation.prototype.handleInputChange = function (thumb) {\n    var value = Number(this.adapter.getInputValue(thumb));\n    if (thumb === Thumb.START) {\n      this.setValueStart(value);\n    } else {\n      this.setValue(value);\n    }\n    this.adapter.emitChangeEvent(thumb === Thumb.START ? this.valueStart : this.value, thumb);\n    this.adapter.emitInputEvent(thumb === Thumb.START ? this.valueStart : this.value, thumb);\n  };\n  /** Shows activated state and value indicator on thumb(s). */\n  MDCSliderFoundation.prototype.handleInputFocus = function (thumb) {\n    this.adapter.addThumbClass(cssClasses.THUMB_FOCUSED, thumb);\n    if (!this.isDiscrete) return;\n    this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, thumb);\n    if (this.isRange) {\n      var otherThumb = thumb === Thumb.START ? Thumb.END : Thumb.START;\n      this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, otherThumb);\n    }\n  };\n  /** Removes activated state and value indicator from thumb(s). */\n  MDCSliderFoundation.prototype.handleInputBlur = function (thumb) {\n    this.adapter.removeThumbClass(cssClasses.THUMB_FOCUSED, thumb);\n    if (!this.isDiscrete) return;\n    this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, thumb);\n    if (this.isRange) {\n      var otherThumb = thumb === Thumb.START ? Thumb.END : Thumb.START;\n      this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, otherThumb);\n    }\n  };\n  /**\n   * Emits custom dragStart event, along with focusing the underlying input.\n   */\n  MDCSliderFoundation.prototype.handleDragStart = function (event, value, thumb) {\n    var _a, _b;\n    this.adapter.emitDragStartEvent(value, thumb);\n    this.adapter.focusInput(thumb);\n    // Restore focused state and show the value indicator(s) (if present)\n    // in case they were previously hidden on dragEnd.\n    // This is needed if the input is already focused, in which case\n    // #focusInput above wouldn't actually trigger #handleInputFocus,\n    // which is why we need to invoke it manually here.\n    if ((_b = (_a = this.adapter).shouldHideFocusStylesForPointerEvents) === null || _b === void 0 ? void 0 : _b.call(_a)) {\n      this.handleInputFocus(thumb);\n    }\n    // Prevent the input (that we just focused) from losing focus.\n    event.preventDefault();\n  };\n  /**\n   * @return The thumb to be moved based on initial down event.\n   */\n  MDCSliderFoundation.prototype.getThumbFromDownEvent = function (clientX, value) {\n    // For single point slider, thumb to be moved is always the END (only)\n    // thumb.\n    if (!this.isRange) return Thumb.END;\n    // Check if event press point is in the bounds of any thumb.\n    var thumbStartRect = this.adapter.getThumbBoundingClientRect(Thumb.START);\n    var thumbEndRect = this.adapter.getThumbBoundingClientRect(Thumb.END);\n    var inThumbStartBounds = clientX >= thumbStartRect.left && clientX <= thumbStartRect.right;\n    var inThumbEndBounds = clientX >= thumbEndRect.left && clientX <= thumbEndRect.right;\n    if (inThumbStartBounds && inThumbEndBounds) {\n      // Thumbs overlapping. Thumb to be moved cannot be determined yet.\n      return null;\n    }\n    // If press is in bounds for either thumb on down event, that's the thumb\n    // to be moved.\n    if (inThumbStartBounds) {\n      return Thumb.START;\n    }\n    if (inThumbEndBounds) {\n      return Thumb.END;\n    }\n    // For presses outside the range, return whichever thumb is closer.\n    if (value < this.valueStart) {\n      return Thumb.START;\n    }\n    if (value > this.value) {\n      return Thumb.END;\n    }\n    // For presses inside the range, return whichever thumb is closer.\n    return value - this.valueStart <= this.value - value ? Thumb.START : Thumb.END;\n  };\n  /**\n   * @return The thumb to be moved based on move event (based on drag\n   *     direction from original down event). Only applicable if thumbs\n   *     were overlapping in the down event.\n   */\n  MDCSliderFoundation.prototype.getThumbFromMoveEvent = function (clientX) {\n    // Thumb has already been chosen.\n    if (this.thumb !== null) return this.thumb;\n    if (this.downEventClientX === null) {\n      throw new Error('`downEventClientX` is null after move event.');\n    }\n    var moveDistanceUnderThreshold = Math.abs(this.downEventClientX - clientX) < numbers.THUMB_UPDATE_MIN_PX;\n    if (moveDistanceUnderThreshold) return this.thumb;\n    var draggedThumbToLeft = clientX < this.downEventClientX;\n    if (draggedThumbToLeft) {\n      return this.adapter.isRTL() ? Thumb.END : Thumb.START;\n    } else {\n      return this.adapter.isRTL() ? Thumb.START : Thumb.END;\n    }\n  };\n  /**\n   * Updates UI based on internal state.\n   * @param thumb Thumb whose value is being updated. If undefined, UI is\n   *     updated for both thumbs based on current internal state.\n   */\n  MDCSliderFoundation.prototype.updateUI = function (thumb) {\n    if (thumb) {\n      this.updateThumbAndInputAttributes(thumb);\n    } else {\n      this.updateThumbAndInputAttributes(Thumb.START);\n      this.updateThumbAndInputAttributes(Thumb.END);\n    }\n    this.updateThumbAndTrackUI(thumb);\n    this.updateValueIndicatorUI(thumb);\n    this.updateTickMarksUI();\n  };\n  /**\n   * Updates thumb and input attributes based on current value.\n   * @param thumb Thumb whose aria attributes to update.\n   */\n  MDCSliderFoundation.prototype.updateThumbAndInputAttributes = function (thumb) {\n    if (!thumb) return;\n    var value = this.isRange && thumb === Thumb.START ? this.valueStart : this.value;\n    var valueStr = String(value);\n    this.adapter.setInputAttribute(attributes.INPUT_VALUE, valueStr, thumb);\n    if (this.isRange && thumb === Thumb.START) {\n      this.adapter.setInputAttribute(attributes.INPUT_MIN, String(value + this.minRange), Thumb.END);\n    } else if (this.isRange && thumb === Thumb.END) {\n      this.adapter.setInputAttribute(attributes.INPUT_MAX, String(value - this.minRange), Thumb.START);\n    }\n    // Sync attribute with property.\n    if (this.adapter.getInputValue(thumb) !== valueStr) {\n      this.adapter.setInputValue(valueStr, thumb);\n    }\n    var valueToAriaValueTextFn = this.adapter.getValueToAriaValueTextFn();\n    if (valueToAriaValueTextFn) {\n      this.adapter.setInputAttribute(attributes.ARIA_VALUETEXT, valueToAriaValueTextFn(value, thumb), thumb);\n    }\n  };\n  /**\n   * Updates value indicator UI based on current value.\n   * @param thumb Thumb whose value indicator to update. If undefined, all\n   *     thumbs' value indicators are updated.\n   */\n  MDCSliderFoundation.prototype.updateValueIndicatorUI = function (thumb) {\n    if (!this.isDiscrete) return;\n    var value = this.isRange && thumb === Thumb.START ? this.valueStart : this.value;\n    this.adapter.setValueIndicatorText(value, thumb === Thumb.START ? Thumb.START : Thumb.END);\n    if (!thumb && this.isRange) {\n      this.adapter.setValueIndicatorText(this.valueStart, Thumb.START);\n    }\n  };\n  /**\n   * Updates tick marks UI within slider, based on current min, max, and step.\n   */\n  MDCSliderFoundation.prototype.updateTickMarksUI = function () {\n    if (!this.isDiscrete || !this.hasTickMarks) return;\n    var numTickMarksInactiveStart = (this.valueStart - this.min) / this.step;\n    var numTickMarksActive = (this.value - this.valueStart) / this.step + 1;\n    var numTickMarksInactiveEnd = (this.max - this.value) / this.step;\n    var tickMarksInactiveStart = Array.from({\n      length: numTickMarksInactiveStart\n    }).fill(TickMark.INACTIVE);\n    var tickMarksActive = Array.from({\n      length: numTickMarksActive\n    }).fill(TickMark.ACTIVE);\n    var tickMarksInactiveEnd = Array.from({\n      length: numTickMarksInactiveEnd\n    }).fill(TickMark.INACTIVE);\n    this.adapter.updateTickMarks(tickMarksInactiveStart.concat(tickMarksActive).concat(tickMarksInactiveEnd));\n  };\n  /** Maps clientX to a value on the slider scale. */\n  MDCSliderFoundation.prototype.mapClientXOnSliderScale = function (clientX) {\n    var xPos = clientX - this.rect.left;\n    var pctComplete = xPos / this.rect.width;\n    if (this.adapter.isRTL()) {\n      pctComplete = 1 - pctComplete;\n    }\n    // Fit the percentage complete between the range [min,max]\n    // by remapping from [0, 1] to [min, min+(max-min)].\n    var value = this.min + pctComplete * (this.max - this.min);\n    if (value === this.max || value === this.min) {\n      return value;\n    }\n    return Number(this.quantize(value).toFixed(this.numDecimalPlaces));\n  };\n  /** Calculates the quantized value based on step value. */\n  MDCSliderFoundation.prototype.quantize = function (value) {\n    var numSteps = Math.round((value - this.min) / this.step);\n    return this.min + numSteps * this.step;\n  };\n  /**\n   * Updates slider value (internal state and UI) based on the given value.\n   */\n  MDCSliderFoundation.prototype.updateValue = function (value, thumb, _a) {\n    var _b = _a === void 0 ? {} : _a,\n      emitInputEvent = _b.emitInputEvent;\n    value = this.clampValue(value, thumb);\n    if (this.isRange && thumb === Thumb.START) {\n      // Exit early if current value is the same as the new value.\n      if (this.valueStart === value) return;\n      this.valueStart = value;\n    } else {\n      // Exit early if current value is the same as the new value.\n      if (this.value === value) return;\n      this.value = value;\n    }\n    this.updateUI(thumb);\n    if (emitInputEvent) {\n      this.adapter.emitInputEvent(thumb === Thumb.START ? this.valueStart : this.value, thumb);\n    }\n  };\n  /**\n   * Clamps the given value for the given thumb based on slider properties:\n   * - Restricts value within [min, max].\n   * - If range slider, clamp start value <= end value - min range, and\n   *   end value >= start value + min range.\n   */\n  MDCSliderFoundation.prototype.clampValue = function (value, thumb) {\n    // Clamp value to [min, max] range.\n    value = Math.min(Math.max(value, this.min), this.max);\n    var thumbStartMovedPastThumbEnd = this.isRange && thumb === Thumb.START && value > this.value - this.minRange;\n    if (thumbStartMovedPastThumbEnd) {\n      return this.value - this.minRange;\n    }\n    var thumbEndMovedPastThumbStart = this.isRange && thumb === Thumb.END && value < this.valueStart + this.minRange;\n    if (thumbEndMovedPastThumbStart) {\n      return this.valueStart + this.minRange;\n    }\n    return value;\n  };\n  /**\n   * Updates the active track and thumb style properties to reflect current\n   * value.\n   */\n  MDCSliderFoundation.prototype.updateThumbAndTrackUI = function (thumb) {\n    var _this = this;\n    var _a = this,\n      max = _a.max,\n      min = _a.min;\n    var pctComplete = (this.value - this.valueStart) / (max - min);\n    var rangePx = pctComplete * this.rect.width;\n    var isRtl = this.adapter.isRTL();\n    var transformProp = HAS_WINDOW ? getCorrectPropertyName(window, 'transform') : 'transform';\n    if (this.isRange) {\n      var thumbLeftPos_1 = this.adapter.isRTL() ? (max - this.value) / (max - min) * this.rect.width : (this.valueStart - min) / (max - min) * this.rect.width;\n      var thumbRightPos_1 = thumbLeftPos_1 + rangePx;\n      this.animFrame.request(AnimationKeys.SLIDER_UPDATE, function () {\n        // Set active track styles, accounting for animation direction by\n        // setting `transform-origin`.\n        var trackAnimatesFromRight = !isRtl && thumb === Thumb.START || isRtl && thumb !== Thumb.START;\n        if (trackAnimatesFromRight) {\n          _this.adapter.setTrackActiveStyleProperty('transform-origin', 'right');\n          _this.adapter.setTrackActiveStyleProperty('left', 'auto');\n          _this.adapter.setTrackActiveStyleProperty('right', _this.rect.width - thumbRightPos_1 + \"px\");\n        } else {\n          _this.adapter.setTrackActiveStyleProperty('transform-origin', 'left');\n          _this.adapter.setTrackActiveStyleProperty('right', 'auto');\n          _this.adapter.setTrackActiveStyleProperty('left', thumbLeftPos_1 + \"px\");\n        }\n        _this.adapter.setTrackActiveStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n        // Set thumb styles.\n        var thumbStartPos = isRtl ? thumbRightPos_1 : thumbLeftPos_1;\n        var thumbEndPos = _this.adapter.isRTL() ? thumbLeftPos_1 : thumbRightPos_1;\n        if (thumb === Thumb.START || !thumb || !_this.initialStylesRemoved) {\n          _this.adapter.setThumbStyleProperty(transformProp, \"translateX(\" + thumbStartPos + \"px)\", Thumb.START);\n          _this.alignValueIndicator(Thumb.START, thumbStartPos);\n        }\n        if (thumb === Thumb.END || !thumb || !_this.initialStylesRemoved) {\n          _this.adapter.setThumbStyleProperty(transformProp, \"translateX(\" + thumbEndPos + \"px)\", Thumb.END);\n          _this.alignValueIndicator(Thumb.END, thumbEndPos);\n        }\n        _this.removeInitialStyles(isRtl);\n        _this.updateOverlappingThumbsUI(thumbStartPos, thumbEndPos, thumb);\n      });\n    } else {\n      this.animFrame.request(AnimationKeys.SLIDER_UPDATE, function () {\n        var thumbStartPos = isRtl ? _this.rect.width - rangePx : rangePx;\n        _this.adapter.setThumbStyleProperty(transformProp, \"translateX(\" + thumbStartPos + \"px)\", Thumb.END);\n        _this.alignValueIndicator(Thumb.END, thumbStartPos);\n        _this.adapter.setTrackActiveStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n        _this.removeInitialStyles(isRtl);\n      });\n    }\n  };\n  /**\n   * Shifts the value indicator to either side if it would otherwise stick\n   * beyond the slider's length while keeping the caret above the knob.\n   */\n  MDCSliderFoundation.prototype.alignValueIndicator = function (thumb, thumbPos) {\n    if (!this.isDiscrete) return;\n    var thumbHalfWidth = this.adapter.getThumbBoundingClientRect(thumb).width / 2;\n    var containerWidth = this.adapter.getValueIndicatorContainerWidth(thumb);\n    var sliderWidth = this.adapter.getBoundingClientRect().width;\n    if (containerWidth / 2 > thumbPos + thumbHalfWidth) {\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_LEFT, thumbHalfWidth + \"px\", thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_RIGHT, 'auto', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_TRANSFORM, 'translateX(-50%)', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_LEFT, '0', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_RIGHT, 'auto', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_TRANSFORM, 'none', thumb);\n    } else if (containerWidth / 2 > sliderWidth - thumbPos + thumbHalfWidth) {\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_LEFT, 'auto', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_RIGHT, thumbHalfWidth + \"px\", thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_TRANSFORM, 'translateX(50%)', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_LEFT, 'auto', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_RIGHT, '0', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_TRANSFORM, 'none', thumb);\n    } else {\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_LEFT, '50%', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_RIGHT, 'auto', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CARET_TRANSFORM, 'translateX(-50%)', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_LEFT, '50%', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_RIGHT, 'auto', thumb);\n      this.adapter.setThumbStyleProperty(strings.VAR_VALUE_INDICATOR_CONTAINER_TRANSFORM, 'translateX(-50%)', thumb);\n    }\n  };\n  /**\n   * Removes initial inline styles if not already removed. `left:<...>%`\n   * inline styles can be added to position the thumb correctly before JS\n   * initialization. However, they need to be removed before the JS starts\n   * positioning the thumb. This is because the JS uses\n   * `transform:translateX(<...>)px` (for performance reasons) to position\n   * the thumb (which is not possible for initial styles since we need the\n   * bounding rect measurements).\n   */\n  MDCSliderFoundation.prototype.removeInitialStyles = function (isRtl) {\n    if (this.initialStylesRemoved) return;\n    // Remove thumb position properties that were added for initial render.\n    var position = isRtl ? 'right' : 'left';\n    this.adapter.removeThumbStyleProperty(position, Thumb.END);\n    if (this.isRange) {\n      this.adapter.removeThumbStyleProperty(position, Thumb.START);\n    }\n    this.initialStylesRemoved = true;\n    this.resetTrackAndThumbAnimation();\n  };\n  /**\n   * Resets track/thumb animation to prevent animation when adding\n   * `transform` styles to thumb initially.\n   */\n  MDCSliderFoundation.prototype.resetTrackAndThumbAnimation = function () {\n    var _this = this;\n    if (!this.isDiscrete) return;\n    // Set transition properties to default (no animation), so that the\n    // newly added `transform` styles do not animate thumb/track from\n    // their default positions.\n    var transitionProp = HAS_WINDOW ? getCorrectPropertyName(window, 'transition') : 'transition';\n    var transitionDefault = 'none 0s ease 0s';\n    this.adapter.setThumbStyleProperty(transitionProp, transitionDefault, Thumb.END);\n    if (this.isRange) {\n      this.adapter.setThumbStyleProperty(transitionProp, transitionDefault, Thumb.START);\n    }\n    this.adapter.setTrackActiveStyleProperty(transitionProp, transitionDefault);\n    // In the next frame, remove the transition inline styles we just\n    // added, such that any animations added in the CSS can now take effect.\n    requestAnimationFrame(function () {\n      _this.adapter.removeThumbStyleProperty(transitionProp, Thumb.END);\n      _this.adapter.removeTrackActiveStyleProperty(transitionProp);\n      if (_this.isRange) {\n        _this.adapter.removeThumbStyleProperty(transitionProp, Thumb.START);\n      }\n    });\n  };\n  /**\n   * Adds THUMB_TOP class to active thumb if thumb knobs overlap; otherwise\n   * removes THUMB_TOP class from both thumbs.\n   * @param thumb Thumb that is active (being moved).\n   */\n  MDCSliderFoundation.prototype.updateOverlappingThumbsUI = function (thumbStartPos, thumbEndPos, thumb) {\n    var thumbsOverlap = false;\n    if (this.adapter.isRTL()) {\n      var startThumbLeftEdge = thumbStartPos - this.startThumbKnobWidth / 2;\n      var endThumbRightEdge = thumbEndPos + this.endThumbKnobWidth / 2;\n      thumbsOverlap = endThumbRightEdge >= startThumbLeftEdge;\n    } else {\n      var startThumbRightEdge = thumbStartPos + this.startThumbKnobWidth / 2;\n      var endThumbLeftEdge = thumbEndPos - this.endThumbKnobWidth / 2;\n      thumbsOverlap = startThumbRightEdge >= endThumbLeftEdge;\n    }\n    if (thumbsOverlap) {\n      this.adapter.addThumbClass(cssClasses.THUMB_TOP,\n      // If no thumb was dragged (in the case of initial layout), end\n      // thumb is on top by default.\n      thumb || Thumb.END);\n      this.adapter.removeThumbClass(cssClasses.THUMB_TOP, thumb === Thumb.START ? Thumb.END : Thumb.START);\n    } else {\n      this.adapter.removeThumbClass(cssClasses.THUMB_TOP, Thumb.START);\n      this.adapter.removeThumbClass(cssClasses.THUMB_TOP, Thumb.END);\n    }\n  };\n  /**\n   * Converts attribute value to a number, e.g. '100' => 100. Throws errors\n   * for invalid values.\n   * @param attributeValue Attribute value, e.g. 100.\n   * @param attributeName Attribute name, e.g. `aria-valuemax`.\n   */\n  MDCSliderFoundation.prototype.convertAttributeValueToNumber = function (attributeValue, attributeName) {\n    if (attributeValue === null) {\n      throw new Error('MDCSliderFoundation: `' + attributeName + '` must be non-null.');\n    }\n    var value = Number(attributeValue);\n    if (isNaN(value)) {\n      throw new Error('MDCSliderFoundation: `' + attributeName + '` value is `' + attributeValue + '`, but must be a number.');\n    }\n    return value;\n  };\n  /** Checks that the given properties are valid slider values. */\n  MDCSliderFoundation.prototype.validateProperties = function (_a) {\n    var min = _a.min,\n      max = _a.max,\n      value = _a.value,\n      valueStart = _a.valueStart,\n      step = _a.step,\n      minRange = _a.minRange;\n    if (min >= max) {\n      throw new Error(\"MDCSliderFoundation: min must be strictly less than max. \" + (\"Current: [min: \" + min + \", max: \" + max + \"]\"));\n    }\n    if (step <= 0) {\n      throw new Error(\"MDCSliderFoundation: step must be a positive number. \" + (\"Current step: \" + step));\n    }\n    if (this.isRange) {\n      if (value < min || value > max || valueStart < min || valueStart > max) {\n        throw new Error(\"MDCSliderFoundation: values must be in [min, max] range. \" + (\"Current values: [start value: \" + valueStart + \", end value: \") + (value + \", min: \" + min + \", max: \" + max + \"]\"));\n      }\n      if (valueStart > value) {\n        throw new Error(\"MDCSliderFoundation: start value must be <= end value. \" + (\"Current values: [start value: \" + valueStart + \", end value: \" + value + \"]\"));\n      }\n      if (minRange < 0) {\n        throw new Error(\"MDCSliderFoundation: minimum range must be non-negative. \" + (\"Current min range: \" + minRange));\n      }\n      if (value - valueStart < minRange) {\n        throw new Error(\"MDCSliderFoundation: start value and end value must differ by at least \" + (minRange + \". Current values: [start value: \" + valueStart + \", \") + (\"end value: \" + value + \"]\"));\n      }\n      var numStepsValueStartFromMin = (valueStart - min) / step;\n      var numStepsValueFromMin = (value - min) / step;\n      if (!Number.isInteger(parseFloat(numStepsValueStartFromMin.toFixed(6))) || !Number.isInteger(parseFloat(numStepsValueFromMin.toFixed(6)))) {\n        throw new Error(\"MDCSliderFoundation: Slider values must be valid based on the \" + (\"step value (\" + step + \"). Current values: [start value: \") + (valueStart + \", end value: \" + value + \", min: \" + min + \"]\"));\n      }\n    } else {\n      // Single point slider.\n      if (value < min || value > max) {\n        throw new Error(\"MDCSliderFoundation: value must be in [min, max] range. \" + (\"Current values: [value: \" + value + \", min: \" + min + \", max: \" + max + \"]\"));\n      }\n      var numStepsValueFromMin = (value - min) / step;\n      if (!Number.isInteger(parseFloat(numStepsValueFromMin.toFixed(6)))) {\n        throw new Error(\"MDCSliderFoundation: Slider value must be valid based on the \" + (\"step value (\" + step + \"). Current value: \" + value));\n      }\n    }\n  };\n  MDCSliderFoundation.prototype.registerEventHandlers = function () {\n    this.adapter.registerWindowEventHandler('resize', this.resizeListener);\n    if (MDCSliderFoundation.SUPPORTS_POINTER_EVENTS) {\n      // If supported, use pointer events API with #setPointerCapture.\n      this.adapter.registerEventHandler('pointerdown', this.pointerdownListener);\n      this.adapter.registerEventHandler('pointerup', this.pointerupListener);\n    } else {\n      // Otherwise, fall back to mousedown/touchstart events.\n      this.adapter.registerEventHandler('mousedown', this.mousedownOrTouchstartListener);\n      this.adapter.registerEventHandler('touchstart', this.mousedownOrTouchstartListener);\n    }\n    if (this.isRange) {\n      this.adapter.registerThumbEventHandler(Thumb.START, 'mouseenter', this.thumbMouseenterListener);\n      this.adapter.registerThumbEventHandler(Thumb.START, 'mouseleave', this.thumbMouseleaveListener);\n      this.adapter.registerInputEventHandler(Thumb.START, 'change', this.inputStartChangeListener);\n      this.adapter.registerInputEventHandler(Thumb.START, 'focus', this.inputStartFocusListener);\n      this.adapter.registerInputEventHandler(Thumb.START, 'blur', this.inputStartBlurListener);\n    }\n    this.adapter.registerThumbEventHandler(Thumb.END, 'mouseenter', this.thumbMouseenterListener);\n    this.adapter.registerThumbEventHandler(Thumb.END, 'mouseleave', this.thumbMouseleaveListener);\n    this.adapter.registerInputEventHandler(Thumb.END, 'change', this.inputEndChangeListener);\n    this.adapter.registerInputEventHandler(Thumb.END, 'focus', this.inputEndFocusListener);\n    this.adapter.registerInputEventHandler(Thumb.END, 'blur', this.inputEndBlurListener);\n  };\n  MDCSliderFoundation.prototype.deregisterEventHandlers = function () {\n    this.adapter.deregisterWindowEventHandler('resize', this.resizeListener);\n    if (MDCSliderFoundation.SUPPORTS_POINTER_EVENTS) {\n      this.adapter.deregisterEventHandler('pointerdown', this.pointerdownListener);\n      this.adapter.deregisterEventHandler('pointerup', this.pointerupListener);\n    } else {\n      this.adapter.deregisterEventHandler('mousedown', this.mousedownOrTouchstartListener);\n      this.adapter.deregisterEventHandler('touchstart', this.mousedownOrTouchstartListener);\n    }\n    if (this.isRange) {\n      this.adapter.deregisterThumbEventHandler(Thumb.START, 'mouseenter', this.thumbMouseenterListener);\n      this.adapter.deregisterThumbEventHandler(Thumb.START, 'mouseleave', this.thumbMouseleaveListener);\n      this.adapter.deregisterInputEventHandler(Thumb.START, 'change', this.inputStartChangeListener);\n      this.adapter.deregisterInputEventHandler(Thumb.START, 'focus', this.inputStartFocusListener);\n      this.adapter.deregisterInputEventHandler(Thumb.START, 'blur', this.inputStartBlurListener);\n    }\n    this.adapter.deregisterThumbEventHandler(Thumb.END, 'mouseenter', this.thumbMouseenterListener);\n    this.adapter.deregisterThumbEventHandler(Thumb.END, 'mouseleave', this.thumbMouseleaveListener);\n    this.adapter.deregisterInputEventHandler(Thumb.END, 'change', this.inputEndChangeListener);\n    this.adapter.deregisterInputEventHandler(Thumb.END, 'focus', this.inputEndFocusListener);\n    this.adapter.deregisterInputEventHandler(Thumb.END, 'blur', this.inputEndBlurListener);\n  };\n  MDCSliderFoundation.prototype.handlePointerup = function () {\n    this.handleUp();\n    this.adapter.deregisterEventHandler('pointermove', this.moveListener);\n  };\n  MDCSliderFoundation.SUPPORTS_POINTER_EVENTS = HAS_WINDOW && Boolean(window.PointerEvent) &&\n  // #setPointerCapture is buggy on iOS, so we can't use pointer events\n  // until the following bug is fixed:\n  // https://bugs.webkit.org/show_bug.cgi?id=220196\n  !isIOS();\n  return MDCSliderFoundation;\n}(MDCFoundation);\nexport { MDCSliderFoundation };\nfunction isIOS() {\n  // Source:\n  // https://stackoverflow.com/questions/9038625/detect-if-device-is-ios\n  return ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || navigator.userAgent.includes('Mac') && 'ontouchend' in document;\n}\n/**\n * Given a number, returns the number of digits that appear after the\n * decimal point.\n * See\n * https://stackoverflow.com/questions/9539513/is-there-a-reliable-way-in-javascript-to-obtain-the-number-of-decimal-places-of\n */\nfunction getNumDecimalPlaces(n) {\n  // Pull out the fraction and the exponent.\n  var match = /(?:\\.(\\d+))?(?:[eE]([+\\-]?\\d+))?$/.exec(String(n));\n  // NaN or Infinity or integer.\n  // We arbitrarily decide that Infinity is integral.\n  if (!match) return 0;\n  var fraction = match[1] || ''; // E.g. 1.234e-2 => 234\n  var exponent = match[2] || 0; // E.g. 1.234e-2 => -2\n  // Count the number of digits in the fraction and subtract the\n  // exponent to simulate moving the decimal point left by exponent places.\n  // 1.234e+2 has 1 fraction digit and '234'.length -  2 == 1\n  // 1.234e-2 has 5 fraction digit and '234'.length - -2 == 5\n  return Math.max(0,\n  // lower limit\n  (fraction === '0' ? 0 : fraction.length) - Number(exponent));\n}","map":{"version":3,"names":["AnimationFrame","getCorrectPropertyName","MDCFoundation","attributes","cssClasses","numbers","strings","Thumb","TickMark","AnimationKeys","HAS_WINDOW","window","MDCSliderFoundation","_super","__extends","adapter","_this","call","__assign","defaultAdapter","initialStylesRemoved","isDisabled","isDiscrete","step","STEP_SIZE","minRange","MIN_RANGE","hasTickMarks","isRange","thumb","downEventClientX","startThumbKnobWidth","endThumbKnobWidth","animFrame","Object","defineProperty","get","hasClass","addClass","undefined","removeClass","addThumbClass","removeThumbClass","getAttribute","getInputValue","setInputValue","getInputAttribute","setInputAttribute","removeInputAttribute","focusInput","isInputFocused","shouldHideFocusStylesForPointerEvents","getThumbKnobWidth","getValueIndicatorContainerWidth","getThumbBoundingClientRect","top","right","bottom","left","width","height","getBoundingClientRect","isRTL","setThumbStyleProperty","removeThumbStyleProperty","setTrackActiveStyleProperty","removeTrackActiveStyleProperty","setValueIndicatorText","getValueToAriaValueTextFn","updateTickMarks","setPointerCapture","emitChangeEvent","emitInputEvent","emitDragStartEvent","emitDragEndEvent","registerEventHandler","deregisterEventHandler","registerThumbEventHandler","deregisterThumbEventHandler","registerInputEventHandler","deregisterInputEventHandler","registerBodyEventHandler","deregisterBodyEventHandler","registerWindowEventHandler","deregisterWindowEventHandler","prototype","init","DISABLED","DISCRETE","TICK_MARKS","RANGE","min","convertAttributeValueToNumber","INPUT_MIN","START","END","max","INPUT_MAX","value","INPUT_VALUE","valueStart","stepAttr","INPUT_STEP","minRangeAttr","DATA_MIN_RANGE","validateProperties","numDecimalPlaces","getNumDecimalPlaces","valueBeforeDownEvent","valueStartBeforeDownEvent","mousedownOrTouchstartListener","handleMousedownOrTouchstart","bind","moveListener","handleMove","pointerdownListener","handlePointerdown","pointerupListener","handlePointerup","thumbMouseenterListener","handleThumbMouseenter","thumbMouseleaveListener","handleThumbMouseleave","inputStartChangeListener","handleInputChange","inputEndChangeListener","inputStartFocusListener","handleInputFocus","inputEndFocusListener","inputStartBlurListener","handleInputBlur","inputEndBlurListener","resizeListener","handleResize","registerEventHandlers","destroy","deregisterEventHandlers","setMin","updateUI","setMax","getMin","getMax","getValue","setValue","Error","updateValue","getValueStart","setValueStart","setStep","setMinRange","setIsDiscrete","updateValueIndicatorUI","updateTickMarksUI","getStep","getMinRange","setHasTickMarks","getDisabled","setDisabled","disabled","INPUT_DISABLED","getIsRange","layout","_a","_b","skipUpdateUI","rect","handleDown","event","clientX","targetTouches","mapClientXOnSliderScale","getThumbFromDownEvent","handleDragStart","preventDefault","dragAlreadyStarted","getThumbFromMoveEvent","handleUp","oldValue","newValue","THUMB_WITH_INDICATOR","moveEventType","type","upHandler","isPrimaryButton","button","pointerId","Number","THUMB_FOCUSED","otherThumb","thumbStartRect","thumbEndRect","inThumbStartBounds","inThumbEndBounds","moveDistanceUnderThreshold","Math","abs","THUMB_UPDATE_MIN_PX","draggedThumbToLeft","updateThumbAndInputAttributes","updateThumbAndTrackUI","valueStr","String","valueToAriaValueTextFn","ARIA_VALUETEXT","numTickMarksInactiveStart","numTickMarksActive","numTickMarksInactiveEnd","tickMarksInactiveStart","Array","from","length","fill","INACTIVE","tickMarksActive","ACTIVE","tickMarksInactiveEnd","concat","xPos","pctComplete","quantize","toFixed","numSteps","round","clampValue","thumbStartMovedPastThumbEnd","thumbEndMovedPastThumbStart","rangePx","isRtl","transformProp","thumbLeftPos_1","thumbRightPos_1","request","SLIDER_UPDATE","trackAnimatesFromRight","thumbStartPos","thumbEndPos","alignValueIndicator","removeInitialStyles","updateOverlappingThumbsUI","thumbPos","thumbHalfWidth","containerWidth","sliderWidth","VAR_VALUE_INDICATOR_CARET_LEFT","VAR_VALUE_INDICATOR_CARET_RIGHT","VAR_VALUE_INDICATOR_CARET_TRANSFORM","VAR_VALUE_INDICATOR_CONTAINER_LEFT","VAR_VALUE_INDICATOR_CONTAINER_RIGHT","VAR_VALUE_INDICATOR_CONTAINER_TRANSFORM","position","resetTrackAndThumbAnimation","transitionProp","transitionDefault","requestAnimationFrame","thumbsOverlap","startThumbLeftEdge","endThumbRightEdge","startThumbRightEdge","endThumbLeftEdge","THUMB_TOP","attributeValue","attributeName","isNaN","numStepsValueStartFromMin","numStepsValueFromMin","isInteger","parseFloat","SUPPORTS_POINTER_EVENTS","Boolean","PointerEvent","isIOS","includes","navigator","platform","userAgent","document","n","match","exec","fraction","exponent"],"sources":["foundation.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAQA,cAAc,QAAO,oCAAoC;AACjE,SAAQC,sBAAsB,QAAO,0BAA0B;AAC/D,SAAQC,aAAa,QAAO,2BAA2B;AAIvD,SAAQC,UAAU,EAAEC,UAAU,EAAEC,OAAO,EAAEC,OAAO,QAAO,aAAa;AACpE,SAAQC,KAAK,EAAEC,QAAQ,QAAO,SAAS;AAEvC,IAAKC,aAEJ;AAFD,WAAKA,aAAa;EAChBA,aAAA,mCAA+B;AACjC,CAAC,EAFIA,aAAa,KAAbA,aAAa;AAIlB;AACA,IAAMC,UAAU,GAAG,OAAOC,MAAM,KAAK,WAAW;AAEhD;;;;;;AAMA,IAAAC,mBAAA,0BAAAC,MAAA;EAAyCC,SAAA,CAAAF,mBAAA,EAAAC,MAAA;EAkFvC,SAAAD,oBAAYG,OAAmC;IAA/C,IAAAC,KAAA,GACEH,MAAA,CAAAI,IAAA,OAAAC,QAAA,CAAAA,QAAA,KAAUN,mBAAmB,CAACO,cAAc,GAAKJ,OAAO,EAAE;IA5E5D;IACA;IACQC,KAAA,CAAAI,oBAAoB,GAAG,KAAK;IAW5BJ,KAAA,CAAAK,UAAU,GAAG,KAAK;IAElBL,KAAA,CAAAM,UAAU,GAAG,KAAK;IAClBN,KAAA,CAAAO,IAAI,GAAGlB,OAAO,CAACmB,SAAS;IACxBR,KAAA,CAAAS,QAAQ,GAAGpB,OAAO,CAACqB,SAAS;IAK5BV,KAAA,CAAAW,YAAY,GAAG,KAAK;IAE5B;IACQX,KAAA,CAAAY,OAAO,GAAG,KAAK;IACvB;IACA;IACQZ,KAAA,CAAAa,KAAK,GAAe,IAAI;IAChC;IACA;IACA;IACQb,KAAA,CAAAc,gBAAgB,GAAgB,IAAI;IAO5C;IACQd,KAAA,CAAAe,mBAAmB,GAAG,CAAC;IAC/B;IACQf,KAAA,CAAAgB,iBAAiB,GAAG,CAAC;IAoC3BhB,KAAI,CAACiB,SAAS,GAAG,IAAIjC,cAAc,EAAE;;EACvC;EAEAkC,MAAA,CAAAC,cAAA,CAAoBvB,mBAAA,kBAAc;SAAlC,SAAAwB,CAAA;MACE;MACA;MACA,OAAO;QACLC,QAAQ,EAAE,SAAAA,CAAA;UAAM,YAAK;QAAL,CAAK;QACrBC,QAAQ,EAAE,SAAAA,CAAA;UAAM,OAAAC,SAAS;QAAT,CAAS;QACzBC,WAAW,EAAE,SAAAA,CAAA;UAAM,OAAAD,SAAS;QAAT,CAAS;QAC5BE,aAAa,EAAE,SAAAA,CAAA;UAAM,OAAAF,SAAS;QAAT,CAAS;QAC9BG,gBAAgB,EAAE,SAAAA,CAAA;UAAM,OAAAH,SAAS;QAAT,CAAS;QACjCI,YAAY,EAAE,SAAAA,CAAA;UAAM,WAAI;QAAJ,CAAI;QACxBC,aAAa,EAAE,SAAAA,CAAA;UAAM,SAAE;QAAF,CAAE;QACvBC,aAAa,EAAE,SAAAA,CAAA;UAAM,OAAAN,SAAS;QAAT,CAAS;QAC9BO,iBAAiB,EAAE,SAAAA,CAAA;UAAM,WAAI;QAAJ,CAAI;QAC7BC,iBAAiB,EAAE,SAAAA,CAAA;UAAM,WAAI;QAAJ,CAAI;QAC7BC,oBAAoB,EAAE,SAAAA,CAAA;UAAM,WAAI;QAAJ,CAAI;QAChCC,UAAU,EAAE,SAAAA,CAAA;UAAM,OAAAV,SAAS;QAAT,CAAS;QAC3BW,cAAc,EAAE,SAAAA,CAAA;UAAM,YAAK;QAAL,CAAK;QAC3BC,qCAAqC,EAAE,SAAAA,CAAA;UAAM,YAAK;QAAL,CAAK;QAClDC,iBAAiB,EAAE,SAAAA,CAAA;UAAM,QAAC;QAAD,CAAC;QAC1BC,+BAA+B,EAAE,SAAAA,CAAA;UAAM,QAAC;QAAD,CAAC;QACxCC,0BAA0B,EAAE,SAAAA,CAAA;UACxB,OAAC;YAACC,GAAG,EAAE,CAAC;YAAEC,KAAK,EAAE,CAAC;YAAEC,MAAM,EAAE,CAAC;YAAEC,IAAI,EAAE,CAAC;YAAEC,KAAK,EAAE,CAAC;YAAEC,MAAM,EAAE;UAAC,CAAS;QAApE,CAAoE;QACxEC,qBAAqB,EAAE,SAAAA,CAAA;UACnB,OAAC;YAACN,GAAG,EAAE,CAAC;YAAEC,KAAK,EAAE,CAAC;YAAEC,MAAM,EAAE,CAAC;YAAEC,IAAI,EAAE,CAAC;YAAEC,KAAK,EAAE,CAAC;YAAEC,MAAM,EAAE;UAAC,CAAS;QAApE,CAAoE;QACxEE,KAAK,EAAE,SAAAA,CAAA;UAAM,YAAK;QAAL,CAAK;QAClBC,qBAAqB,EAAE,SAAAA,CAAA;UAAM,OAAAxB,SAAS;QAAT,CAAS;QACtCyB,wBAAwB,EAAE,SAAAA,CAAA;UAAM,OAAAzB,SAAS;QAAT,CAAS;QACzC0B,2BAA2B,EAAE,SAAAA,CAAA;UAAM,OAAA1B,SAAS;QAAT,CAAS;QAC5C2B,8BAA8B,EAAE,SAAAA,CAAA;UAAM,OAAA3B,SAAS;QAAT,CAAS;QAC/C4B,qBAAqB,EAAE,SAAAA,CAAA;UAAM,OAAA5B,SAAS;QAAT,CAAS;QACtC6B,yBAAyB,EAAE,SAAAA,CAAA;UAAM,WAAI;QAAJ,CAAI;QACrCC,eAAe,EAAE,SAAAA,CAAA;UAAM,OAAA9B,SAAS;QAAT,CAAS;QAChC+B,iBAAiB,EAAE,SAAAA,CAAA;UAAM,OAAA/B,SAAS;QAAT,CAAS;QAClCgC,eAAe,EAAE,SAAAA,CAAA;UAAM,OAAAhC,SAAS;QAAT,CAAS;QAChCiC,cAAc,EAAE,SAAAA,CAAA;UAAM,OAAAjC,SAAS;QAAT,CAAS;QAC/BkC,kBAAkB,EAAE,SAAAA,CAAA;UAAM,OAAAlC,SAAS;QAAT,CAAS;QACnCmC,gBAAgB,EAAE,SAAAA,CAAA;UAAM,OAAAnC,SAAS;QAAT,CAAS;QACjCoC,oBAAoB,EAAE,SAAAA,CAAA;UAAM,OAAApC,SAAS;QAAT,CAAS;QACrCqC,sBAAsB,EAAE,SAAAA,CAAA;UAAM,OAAArC,SAAS;QAAT,CAAS;QACvCsC,yBAAyB,EAAE,SAAAA,CAAA;UAAM,OAAAtC,SAAS;QAAT,CAAS;QAC1CuC,2BAA2B,EAAE,SAAAA,CAAA;UAAM,OAAAvC,SAAS;QAAT,CAAS;QAC5CwC,yBAAyB,EAAE,SAAAA,CAAA;UAAM,OAAAxC,SAAS;QAAT,CAAS;QAC1CyC,2BAA2B,EAAE,SAAAA,CAAA;UAAM,OAAAzC,SAAS;QAAT,CAAS;QAC5C0C,wBAAwB,EAAE,SAAAA,CAAA;UAAM,OAAA1C,SAAS;QAAT,CAAS;QACzC2C,0BAA0B,EAAE,SAAAA,CAAA;UAAM,OAAA3C,SAAS;QAAT,CAAS;QAC3C4C,0BAA0B,EAAE,SAAAA,CAAA;UAAM,OAAA5C,SAAS;QAAT,CAAS;QAC3C6C,4BAA4B,EAAE,SAAAA,CAAA;UAAM,OAAA7C,SAAS;QAAT;OACrC;MACD;IACF,CAAC;;;;EAEQ3B,mBAAA,CAAAyE,SAAA,CAAAC,IAAI,GAAb;IAAA,IAAAtE,KAAA;IACE,IAAI,CAACK,UAAU,GAAG,IAAI,CAACN,OAAO,CAACsB,QAAQ,CAACjC,UAAU,CAACmF,QAAQ,CAAC;IAC5D,IAAI,CAACjE,UAAU,GAAG,IAAI,CAACP,OAAO,CAACsB,QAAQ,CAACjC,UAAU,CAACoF,QAAQ,CAAC;IAC5D,IAAI,CAAC7D,YAAY,GAAG,IAAI,CAACZ,OAAO,CAACsB,QAAQ,CAACjC,UAAU,CAACqF,UAAU,CAAC;IAChE,IAAI,CAAC7D,OAAO,GAAG,IAAI,CAACb,OAAO,CAACsB,QAAQ,CAACjC,UAAU,CAACsF,KAAK,CAAC;IAEtD,IAAMC,GAAG,GAAG,IAAI,CAACC,6BAA6B,CAC1C,IAAI,CAAC7E,OAAO,CAAC+B,iBAAiB,CAC1B3C,UAAU,CAAC0F,SAAS,EAAE,IAAI,CAACjE,OAAO,GAAGrB,KAAK,CAACuF,KAAK,GAAGvF,KAAK,CAACwF,GAAG,CAAC,EACjE5F,UAAU,CAAC0F,SAAS,CAAC;IACzB,IAAMG,GAAG,GAAG,IAAI,CAACJ,6BAA6B,CAC1C,IAAI,CAAC7E,OAAO,CAAC+B,iBAAiB,CAAC3C,UAAU,CAAC8F,SAAS,EAAE1F,KAAK,CAACwF,GAAG,CAAC,EAC/D5F,UAAU,CAAC8F,SAAS,CAAC;IACzB,IAAMC,KAAK,GAAG,IAAI,CAACN,6BAA6B,CAC5C,IAAI,CAAC7E,OAAO,CAAC+B,iBAAiB,CAAC3C,UAAU,CAACgG,WAAW,EAAE5F,KAAK,CAACwF,GAAG,CAAC,EACjE5F,UAAU,CAACgG,WAAW,CAAC;IAC3B,IAAMC,UAAU,GAAG,IAAI,CAACxE,OAAO,GAC3B,IAAI,CAACgE,6BAA6B,CAC9B,IAAI,CAAC7E,OAAO,CAAC+B,iBAAiB,CAAC3C,UAAU,CAACgG,WAAW,EAAE5F,KAAK,CAACuF,KAAK,CAAC,EACnE3F,UAAU,CAACgG,WAAW,CAAC,GAC3BR,GAAG;IACP,IAAMU,QAAQ,GACV,IAAI,CAACtF,OAAO,CAAC+B,iBAAiB,CAAC3C,UAAU,CAACmG,UAAU,EAAE/F,KAAK,CAACwF,GAAG,CAAC;IACpE,IAAMxE,IAAI,GAAG8E,QAAQ,GACjB,IAAI,CAACT,6BAA6B,CAACS,QAAQ,EAAElG,UAAU,CAACmG,UAAU,CAAC,GACnE,IAAI,CAAC/E,IAAI;IACb,IAAMgF,YAAY,GAAG,IAAI,CAACxF,OAAO,CAAC4B,YAAY,CAACxC,UAAU,CAACqG,cAAc,CAAC;IACzE,IAAM/E,QAAQ,GAAG8E,YAAY,GACzB,IAAI,CAACX,6BAA6B,CAC9BW,YAAY,EAAEpG,UAAU,CAACqG,cAAc,CAAC,GAC5C,IAAI,CAAC/E,QAAQ;IAEjB,IAAI,CAACgF,kBAAkB,CAAC;MAACd,GAAG,EAAAA,GAAA;MAAEK,GAAG,EAAAA,GAAA;MAAEE,KAAK,EAAAA,KAAA;MAAEE,UAAU,EAAAA,UAAA;MAAE7E,IAAI,EAAAA,IAAA;MAAEE,QAAQ,EAAAA;IAAA,CAAC,CAAC;IAEtE,IAAI,CAACkE,GAAG,GAAGA,GAAG;IACd,IAAI,CAACK,GAAG,GAAGA,GAAG;IACd,IAAI,CAACE,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACE,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAAC7E,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACE,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACiF,gBAAgB,GAAGC,mBAAmB,CAAC,IAAI,CAACpF,IAAI,CAAC;IAEtD,IAAI,CAACqF,oBAAoB,GAAGV,KAAK;IACjC,IAAI,CAACW,yBAAyB,GAAGT,UAAU;IAE3C,IAAI,CAACU,6BAA6B,GAC9B,IAAI,CAACC,2BAA2B,CAACC,IAAI,CAAC,IAAI,CAAC;IAC/C,IAAI,CAACC,YAAY,GAAG,IAAI,CAACC,UAAU,CAACF,IAAI,CAAC,IAAI,CAAC;IAC9C,IAAI,CAACG,mBAAmB,GAAG,IAAI,CAACC,iBAAiB,CAACJ,IAAI,CAAC,IAAI,CAAC;IAC5D,IAAI,CAACK,iBAAiB,GAAG,IAAI,CAACC,eAAe,CAACN,IAAI,CAAC,IAAI,CAAC;IACxD,IAAI,CAACO,uBAAuB,GAAG,IAAI,CAACC,qBAAqB,CAACR,IAAI,CAAC,IAAI,CAAC;IACpE,IAAI,CAACS,uBAAuB,GAAG,IAAI,CAACC,qBAAqB,CAACV,IAAI,CAAC,IAAI,CAAC;IACpE,IAAI,CAACW,wBAAwB,GAAG;MAC9B3G,KAAI,CAAC4G,iBAAiB,CAACrH,KAAK,CAACuF,KAAK,CAAC;IACrC,CAAC;IACD,IAAI,CAAC+B,sBAAsB,GAAG;MAC5B7G,KAAI,CAAC4G,iBAAiB,CAACrH,KAAK,CAACwF,GAAG,CAAC;IACnC,CAAC;IACD,IAAI,CAAC+B,uBAAuB,GAAG;MAC7B9G,KAAI,CAAC+G,gBAAgB,CAACxH,KAAK,CAACuF,KAAK,CAAC;IACpC,CAAC;IACD,IAAI,CAACkC,qBAAqB,GAAG;MAC3BhH,KAAI,CAAC+G,gBAAgB,CAACxH,KAAK,CAACwF,GAAG,CAAC;IAClC,CAAC;IACD,IAAI,CAACkC,sBAAsB,GAAG;MAC5BjH,KAAI,CAACkH,eAAe,CAAC3H,KAAK,CAACuF,KAAK,CAAC;IACnC,CAAC;IACD,IAAI,CAACqC,oBAAoB,GAAG;MAC1BnH,KAAI,CAACkH,eAAe,CAAC3H,KAAK,CAACwF,GAAG,CAAC;IACjC,CAAC;IACD,IAAI,CAACqC,cAAc,GAAG,IAAI,CAACC,YAAY,CAACrB,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACsB,qBAAqB,EAAE;EAC9B,CAAC;EAEQ1H,mBAAA,CAAAyE,SAAA,CAAAkD,OAAO,GAAhB;IACE,IAAI,CAACC,uBAAuB,EAAE;EAChC,CAAC;EAED5H,mBAAA,CAAAyE,SAAA,CAAAoD,MAAM,GAAN,UAAOvC,KAAa;IAClB,IAAI,CAACP,GAAG,GAAGO,KAAK;IAChB,IAAI,CAAC,IAAI,CAACtE,OAAO,EAAE;MACjB,IAAI,CAACwE,UAAU,GAAGF,KAAK;;IAEzB,IAAI,CAACwC,QAAQ,EAAE;EACjB,CAAC;EAED9H,mBAAA,CAAAyE,SAAA,CAAAsD,MAAM,GAAN,UAAOzC,KAAa;IAClB,IAAI,CAACF,GAAG,GAAGE,KAAK;IAChB,IAAI,CAACwC,QAAQ,EAAE;EACjB,CAAC;EAED9H,mBAAA,CAAAyE,SAAA,CAAAuD,MAAM,GAAN;IACE,OAAO,IAAI,CAACjD,GAAG;EACjB,CAAC;EAED/E,mBAAA,CAAAyE,SAAA,CAAAwD,MAAM,GAAN;IACE,OAAO,IAAI,CAAC7C,GAAG;EACjB,CAAC;EAED;;;;EAIApF,mBAAA,CAAAyE,SAAA,CAAAyD,QAAQ,GAAR;IACE,OAAO,IAAI,CAAC5C,KAAK;EACnB,CAAC;EAED;;;;EAIAtF,mBAAA,CAAAyE,SAAA,CAAA0D,QAAQ,GAAR,UAAS7C,KAAa;IACpB,IAAI,IAAI,CAACtE,OAAO,IAAIsE,KAAK,GAAG,IAAI,CAACE,UAAU,GAAG,IAAI,CAAC3E,QAAQ,EAAE;MAC3D,MAAM,IAAIuH,KAAK,CACX,sBAAoB9C,KAAK,8BAA2B,IACpD,YAAU,IAAI,CAACE,UAAU,uBAAkB,IAAI,CAAC3E,QAAQ,MAAG,EAAC;;IAGlE,IAAI,CAACwH,WAAW,CAAC/C,KAAK,EAAE3F,KAAK,CAACwF,GAAG,CAAC;EACpC,CAAC;EAED;;;;EAIAnF,mBAAA,CAAAyE,SAAA,CAAA6D,aAAa,GAAb;IACE,IAAI,CAAC,IAAI,CAACtH,OAAO,EAAE;MACjB,MAAM,IAAIoH,KAAK,CAAC,oDAAoD,CAAC;;IAGvE,OAAO,IAAI,CAAC5C,UAAU;EACxB,CAAC;EAED;;;EAGAxF,mBAAA,CAAAyE,SAAA,CAAA8D,aAAa,GAAb,UAAc/C,UAAkB;IAC9B,IAAI,CAAC,IAAI,CAACxE,OAAO,EAAE;MACjB,MAAM,IAAIoH,KAAK,CAAC,oDAAoD,CAAC;;IAEvE,IAAI,IAAI,CAACpH,OAAO,IAAIwE,UAAU,GAAG,IAAI,CAACF,KAAK,GAAG,IAAI,CAACzE,QAAQ,EAAE;MAC3D,MAAM,IAAIuH,KAAK,CACX,wBAAsB5C,UAAU,4BAAyB,IACzD,YAAU,IAAI,CAACF,KAAK,uBAAkB,IAAI,CAACzE,QAAQ,MAAG,EAAC;;IAG7D,IAAI,CAACwH,WAAW,CAAC7C,UAAU,EAAE7F,KAAK,CAACuF,KAAK,CAAC;EAC3C,CAAC;EAEDlF,mBAAA,CAAAyE,SAAA,CAAA+D,OAAO,GAAP,UAAQlD,KAAa;IACnB,IAAI,CAAC3E,IAAI,GAAG2E,KAAK;IACjB,IAAI,CAACQ,gBAAgB,GAAGC,mBAAmB,CAACT,KAAK,CAAC;IAElD,IAAI,CAACwC,QAAQ,EAAE;EACjB,CAAC;EAED;;;;EAIA9H,mBAAA,CAAAyE,SAAA,CAAAgE,WAAW,GAAX,UAAYnD,KAAa;IACvB,IAAI,CAAC,IAAI,CAACtE,OAAO,EAAE;MACjB,MAAM,IAAIoH,KAAK,CAAC,kDAAkD,CAAC;;IAErE,IAAI9C,KAAK,GAAG,CAAC,EAAE;MACb,MAAM,IAAI8C,KAAK,CAAC,mCAAmC,IAC/C,oBAAkB9C,KAAO,EAAC;;IAEhC,IAAI,IAAI,CAACA,KAAK,GAAG,IAAI,CAACE,UAAU,GAAGF,KAAK,EAAE;MACxC,MAAM,IAAI8C,KAAK,CACX,wBAAsB,IAAI,CAAC5C,UAAU,2BAAwB,IAC7D,MAAI,IAAI,CAACF,KAAK,kCAA6BA,KAAK,MAAG,EAAC;;IAE1D,IAAI,CAACzE,QAAQ,GAAGyE,KAAK;EACvB,CAAC;EAEDtF,mBAAA,CAAAyE,SAAA,CAAAiE,aAAa,GAAb,UAAcpD,KAAc;IAC1B,IAAI,CAAC5E,UAAU,GAAG4E,KAAK;IACvB,IAAI,CAACqD,sBAAsB,EAAE;IAC7B,IAAI,CAACC,iBAAiB,EAAE;EAC1B,CAAC;EAED5I,mBAAA,CAAAyE,SAAA,CAAAoE,OAAO,GAAP;IACE,OAAO,IAAI,CAAClI,IAAI;EAClB,CAAC;EAEDX,mBAAA,CAAAyE,SAAA,CAAAqE,WAAW,GAAX;IACE,IAAI,CAAC,IAAI,CAAC9H,OAAO,EAAE;MACjB,MAAM,IAAIoH,KAAK,CAAC,kDAAkD,CAAC;;IAGrE,OAAO,IAAI,CAACvH,QAAQ;EACtB,CAAC;EAEDb,mBAAA,CAAAyE,SAAA,CAAAsE,eAAe,GAAf,UAAgBzD,KAAc;IAC5B,IAAI,CAACvE,YAAY,GAAGuE,KAAK;IACzB,IAAI,CAACsD,iBAAiB,EAAE;EAC1B,CAAC;EAED5I,mBAAA,CAAAyE,SAAA,CAAAuE,WAAW,GAAX;IACE,OAAO,IAAI,CAACvI,UAAU;EACxB,CAAC;EAED;;;EAGAT,mBAAA,CAAAyE,SAAA,CAAAwE,WAAW,GAAX,UAAYC,QAAiB;IAC3B,IAAI,CAACzI,UAAU,GAAGyI,QAAQ;IAE1B,IAAIA,QAAQ,EAAE;MACZ,IAAI,CAAC/I,OAAO,CAACuB,QAAQ,CAAClC,UAAU,CAACmF,QAAQ,CAAC;MAE1C,IAAI,IAAI,CAAC3D,OAAO,EAAE;QAChB,IAAI,CAACb,OAAO,CAACgC,iBAAiB,CAC1B5C,UAAU,CAAC4J,cAAc,EAAE,EAAE,EAAExJ,KAAK,CAACuF,KAAK,CAAC;;MAEjD,IAAI,CAAC/E,OAAO,CAACgC,iBAAiB,CAAC5C,UAAU,CAAC4J,cAAc,EAAE,EAAE,EAAExJ,KAAK,CAACwF,GAAG,CAAC;KACzE,MAAM;MACL,IAAI,CAAChF,OAAO,CAACyB,WAAW,CAACpC,UAAU,CAACmF,QAAQ,CAAC;MAE7C,IAAI,IAAI,CAAC3D,OAAO,EAAE;QAChB,IAAI,CAACb,OAAO,CAACiC,oBAAoB,CAC7B7C,UAAU,CAAC4J,cAAc,EAAExJ,KAAK,CAACuF,KAAK,CAAC;;MAE7C,IAAI,CAAC/E,OAAO,CAACiC,oBAAoB,CAAC7C,UAAU,CAAC4J,cAAc,EAAExJ,KAAK,CAACwF,GAAG,CAAC;;EAE3E,CAAC;EAED;EACAnF,mBAAA,CAAAyE,SAAA,CAAA2E,UAAU,GAAV;IACE,OAAO,IAAI,CAACpI,OAAO;EACrB,CAAC;EAED;;;;EAIAhB,mBAAA,CAAAyE,SAAA,CAAA4E,MAAM,GAAN,UAAOC,EAA6C;QAA7CC,EAAA,GAAAD,EAAA,cAA2C,EAAE,GAAAA,EAAA;MAA5CE,YAAY,GAAAD,EAAA,CAAAC,YAAA;IAClB,IAAI,CAACC,IAAI,GAAG,IAAI,CAACtJ,OAAO,CAAC8C,qBAAqB,EAAE;IAChD,IAAI,IAAI,CAACjC,OAAO,EAAE;MAChB,IAAI,CAACG,mBAAmB,GAAG,IAAI,CAAChB,OAAO,CAACqC,iBAAiB,CAAC7C,KAAK,CAACuF,KAAK,CAAC;MACtE,IAAI,CAAC9D,iBAAiB,GAAG,IAAI,CAACjB,OAAO,CAACqC,iBAAiB,CAAC7C,KAAK,CAACwF,GAAG,CAAC;;IAGpE,IAAI,CAACqE,YAAY,EAAE;MACjB,IAAI,CAAC1B,QAAQ,EAAE;;EAEnB,CAAC;EAED;EACA9H,mBAAA,CAAAyE,SAAA,CAAAgD,YAAY,GAAZ;IACE,IAAI,CAAC4B,MAAM,EAAE;EACf,CAAC;EAED;;;EAGArJ,mBAAA,CAAAyE,SAAA,CAAAiF,UAAU,GAAV,UAAWC,KAAyC;IAClD,IAAI,IAAI,CAAClJ,UAAU,EAAE;IAErB,IAAI,CAACwF,yBAAyB,GAAG,IAAI,CAACT,UAAU;IAChD,IAAI,CAACQ,oBAAoB,GAAG,IAAI,CAACV,KAAK;IAEtC,IAAMsE,OAAO,GAAID,KAAoB,CAACC,OAAO,IAAI,IAAI,GAChDD,KAAoB,CAACC,OAAO,GAC5BD,KAAoB,CAACE,aAAa,CAAC,CAAC,CAAC,CAACD,OAAO;IAClD,IAAI,CAAC1I,gBAAgB,GAAG0I,OAAO;IAC/B,IAAMtE,KAAK,GAAG,IAAI,CAACwE,uBAAuB,CAACF,OAAO,CAAC;IACnD,IAAI,CAAC3I,KAAK,GAAG,IAAI,CAAC8I,qBAAqB,CAACH,OAAO,EAAEtE,KAAK,CAAC;IACvD,IAAI,IAAI,CAACrE,KAAK,KAAK,IAAI,EAAE;IAEzB,IAAI,CAAC+I,eAAe,CAACL,KAAK,EAAErE,KAAK,EAAE,IAAI,CAACrE,KAAK,CAAC;IAC9C,IAAI,CAACoH,WAAW,CAAC/C,KAAK,EAAE,IAAI,CAACrE,KAAK,EAAE;MAAC2C,cAAc,EAAE;IAAI,CAAC,CAAC;EAC7D,CAAC;EAED;;;EAGA5D,mBAAA,CAAAyE,SAAA,CAAA6B,UAAU,GAAV,UAAWqD,KAAyC;IAClD,IAAI,IAAI,CAAClJ,UAAU,EAAE;IAErB;IACAkJ,KAAK,CAACM,cAAc,EAAE;IAEtB,IAAML,OAAO,GAAID,KAAoB,CAACC,OAAO,IAAI,IAAI,GAChDD,KAAoB,CAACC,OAAO,GAC5BD,KAAoB,CAACE,aAAa,CAAC,CAAC,CAAC,CAACD,OAAO;IAClD,IAAMM,kBAAkB,GAAG,IAAI,CAACjJ,KAAK,IAAI,IAAI;IAC7C,IAAI,CAACA,KAAK,GAAG,IAAI,CAACkJ,qBAAqB,CAACP,OAAO,CAAC;IAChD,IAAI,IAAI,CAAC3I,KAAK,KAAK,IAAI,EAAE;IAEzB,IAAMqE,KAAK,GAAG,IAAI,CAACwE,uBAAuB,CAACF,OAAO,CAAC;IACnD,IAAI,CAACM,kBAAkB,EAAE;MACvB,IAAI,CAACF,eAAe,CAACL,KAAK,EAAErE,KAAK,EAAE,IAAI,CAACrE,KAAK,CAAC;MAC9C,IAAI,CAACd,OAAO,CAAC0D,kBAAkB,CAACyB,KAAK,EAAE,IAAI,CAACrE,KAAK,CAAC;;IAEpD,IAAI,CAACoH,WAAW,CAAC/C,KAAK,EAAE,IAAI,CAACrE,KAAK,EAAE;MAAC2C,cAAc,EAAE;IAAI,CAAC,CAAC;EAC7D,CAAC;EAED;;;EAGA5D,mBAAA,CAAAyE,SAAA,CAAA2F,QAAQ,GAAR;;IACE,IAAI,IAAI,CAAC3J,UAAU,IAAI,IAAI,CAACQ,KAAK,KAAK,IAAI,EAAE;IAE5C;IACA;IACA,IAAI,CAAAsI,EAAA,IAAAD,EAAA,OAAI,CAACnJ,OAAO,EAACoC,qCAAqC,cAAAgH,EAAA,uBAAAA,EAAA,CAAAlJ,IAAA,CAAAiJ,EAAA,CAAI,EAAE;MAC1D,IAAI,CAAChC,eAAe,CAAC,IAAI,CAACrG,KAAK,CAAC;;IAGlC,IAAMoJ,QAAQ,GAAG,IAAI,CAACpJ,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GACvC,IAAI,CAACe,yBAAyB,GAC9B,IAAI,CAACD,oBAAoB;IAC7B,IAAMsE,QAAQ,GAAG,IAAI,CAACrJ,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAG,IAAI,CAACM,UAAU,GAAG,IAAI,CAACF,KAAK;IAC1E,IAAI+E,QAAQ,KAAKC,QAAQ,EAAE;MACzB,IAAI,CAACnK,OAAO,CAACwD,eAAe,CAAC2G,QAAQ,EAAE,IAAI,CAACrJ,KAAK,CAAC;;IAGpD,IAAI,CAACd,OAAO,CAAC2D,gBAAgB,CAACwG,QAAQ,EAAE,IAAI,CAACrJ,KAAK,CAAC;IACnD,IAAI,CAACA,KAAK,GAAG,IAAI;EACnB,CAAC;EAED;;;EAGAjB,mBAAA,CAAAyE,SAAA,CAAAmC,qBAAqB,GAArB;IACE,IAAI,CAAC,IAAI,CAAClG,UAAU,IAAI,CAAC,IAAI,CAACM,OAAO,EAAE;IAEvC,IAAI,CAACb,OAAO,CAAC0B,aAAa,CAACrC,UAAU,CAAC+K,oBAAoB,EAAE5K,KAAK,CAACuF,KAAK,CAAC;IACxE,IAAI,CAAC/E,OAAO,CAAC0B,aAAa,CAACrC,UAAU,CAAC+K,oBAAoB,EAAE5K,KAAK,CAACwF,GAAG,CAAC;EACxE,CAAC;EAED;;;EAGAnF,mBAAA,CAAAyE,SAAA,CAAAqC,qBAAqB,GAArB;;IACE,IAAI,CAAC,IAAI,CAACpG,UAAU,IAAI,CAAC,IAAI,CAACM,OAAO,EAAE;IACvC,IAAK,EAAC,CAAAuI,EAAA,IAAAD,EAAA,OAAI,CAACnJ,OAAO,EAACoC,qCAAqC,cAAAgH,EAAA,uBAAAA,EAAA,CAAAlJ,IAAA,CAAAiJ,EAAA,CAAI,MACtD,IAAI,CAACnJ,OAAO,CAACmC,cAAc,CAAC3C,KAAK,CAACuF,KAAK,CAAC,IACxC,IAAI,CAAC/E,OAAO,CAACmC,cAAc,CAAC3C,KAAK,CAACwF,GAAG,CAAC,CAAC,IACzC,IAAI,CAAClE,KAAK,EAAE;MACd;MACA;MACA;;IAGF,IAAI,CAACd,OAAO,CAAC2B,gBAAgB,CAACtC,UAAU,CAAC+K,oBAAoB,EAAE5K,KAAK,CAACuF,KAAK,CAAC;IAC3E,IAAI,CAAC/E,OAAO,CAAC2B,gBAAgB,CAACtC,UAAU,CAAC+K,oBAAoB,EAAE5K,KAAK,CAACwF,GAAG,CAAC;EAC3E,CAAC;EAEDnF,mBAAA,CAAAyE,SAAA,CAAA0B,2BAA2B,GAA3B,UAA4BwD,KAA4B;IAAxD,IAAAvJ,KAAA;IACE,IAAMoK,aAAa,GACfb,KAAK,CAACc,IAAI,KAAK,WAAW,GAAG,WAAW,GAAG,WAAW;IAC1D;IACA;IACA;IACA,IAAI,CAACtK,OAAO,CAACkE,wBAAwB,CAACmG,aAAa,EAAE,IAAI,CAACnE,YAAY,CAAC;IAEvE,IAAMqE,SAAS,GAAG,SAAAA,CAAA;MAChBtK,KAAI,CAACgK,QAAQ,EAAE;MAEf;MACA;MACAhK,KAAI,CAACD,OAAO,CAACmE,0BAA0B,CAACkG,aAAa,EAAEpK,KAAI,CAACiG,YAAY,CAAC;MAEzE;MACAjG,KAAI,CAACD,OAAO,CAAC6D,sBAAsB,CAAC,SAAS,EAAE0G,SAAS,CAAC;MACzDtK,KAAI,CAACD,OAAO,CAAC6D,sBAAsB,CAAC,UAAU,EAAE0G,SAAS,CAAC;IAC5D,CAAC;IAED,IAAI,CAACvK,OAAO,CAACkE,wBAAwB,CAAC,SAAS,EAAEqG,SAAS,CAAC;IAC3D,IAAI,CAACvK,OAAO,CAACkE,wBAAwB,CAAC,UAAU,EAAEqG,SAAS,CAAC;IAE5D,IAAI,CAAChB,UAAU,CAACC,KAAK,CAAC;EACxB,CAAC;EAED3J,mBAAA,CAAAyE,SAAA,CAAA+B,iBAAiB,GAAjB,UAAkBmD,KAAmB;IACnC,IAAMgB,eAAe,GAAGhB,KAAK,CAACiB,MAAM,KAAK,CAAC;IAC1C,IAAI,CAACD,eAAe,EAAE;IAEtB,IAAIhB,KAAK,CAACkB,SAAS,IAAI,IAAI,EAAE;MAC3B,IAAI,CAAC1K,OAAO,CAACuD,iBAAiB,CAACiG,KAAK,CAACkB,SAAS,CAAC;;IAEjD,IAAI,CAAC1K,OAAO,CAAC4D,oBAAoB,CAAC,aAAa,EAAE,IAAI,CAACsC,YAAY,CAAC;IAEnE,IAAI,CAACqD,UAAU,CAACC,KAAK,CAAC;EACxB,CAAC;EAED;;;;EAIA3J,mBAAA,CAAAyE,SAAA,CAAAuC,iBAAiB,GAAjB,UAAkB/F,KAAY;IAC5B,IAAMqE,KAAK,GAAGwF,MAAM,CAAC,IAAI,CAAC3K,OAAO,CAAC6B,aAAa,CAACf,KAAK,CAAC,CAAC;IACvD,IAAIA,KAAK,KAAKtB,KAAK,CAACuF,KAAK,EAAE;MACzB,IAAI,CAACqD,aAAa,CAACjD,KAAK,CAAC;KAC1B,MAAM;MACL,IAAI,CAAC6C,QAAQ,CAAC7C,KAAK,CAAC;;IAGtB,IAAI,CAACnF,OAAO,CAACwD,eAAe,CACxB1C,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAG,IAAI,CAACM,UAAU,GAAG,IAAI,CAACF,KAAK,EAAErE,KAAK,CAAC;IAChE,IAAI,CAACd,OAAO,CAACyD,cAAc,CACvB3C,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAG,IAAI,CAACM,UAAU,GAAG,IAAI,CAACF,KAAK,EAAErE,KAAK,CAAC;EAClE,CAAC;EAED;EACAjB,mBAAA,CAAAyE,SAAA,CAAA0C,gBAAgB,GAAhB,UAAiBlG,KAAY;IAC3B,IAAI,CAACd,OAAO,CAAC0B,aAAa,CAACrC,UAAU,CAACuL,aAAa,EAAE9J,KAAK,CAAC;IAC3D,IAAI,CAAC,IAAI,CAACP,UAAU,EAAE;IAEtB,IAAI,CAACP,OAAO,CAAC0B,aAAa,CAACrC,UAAU,CAAC+K,oBAAoB,EAAEtJ,KAAK,CAAC;IAClE,IAAI,IAAI,CAACD,OAAO,EAAE;MAChB,IAAMgK,UAAU,GAAG/J,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAGvF,KAAK,CAACwF,GAAG,GAAGxF,KAAK,CAACuF,KAAK;MAClE,IAAI,CAAC/E,OAAO,CAAC0B,aAAa,CAACrC,UAAU,CAAC+K,oBAAoB,EAAES,UAAU,CAAC;;EAE3E,CAAC;EAED;EACAhL,mBAAA,CAAAyE,SAAA,CAAA6C,eAAe,GAAf,UAAgBrG,KAAY;IAC1B,IAAI,CAACd,OAAO,CAAC2B,gBAAgB,CAACtC,UAAU,CAACuL,aAAa,EAAE9J,KAAK,CAAC;IAC9D,IAAI,CAAC,IAAI,CAACP,UAAU,EAAE;IAEtB,IAAI,CAACP,OAAO,CAAC2B,gBAAgB,CAACtC,UAAU,CAAC+K,oBAAoB,EAAEtJ,KAAK,CAAC;IACrE,IAAI,IAAI,CAACD,OAAO,EAAE;MAChB,IAAMgK,UAAU,GAAG/J,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAGvF,KAAK,CAACwF,GAAG,GAAGxF,KAAK,CAACuF,KAAK;MAClE,IAAI,CAAC/E,OAAO,CAAC2B,gBAAgB,CACzBtC,UAAU,CAAC+K,oBAAoB,EAAES,UAAU,CAAC;;EAEpD,CAAC;EAED;;;EAGQhL,mBAAA,CAAAyE,SAAA,CAAAuF,eAAe,GAAvB,UACIL,KAAyC,EAAErE,KAAa,EAAErE,KAAY;;IACxE,IAAI,CAACd,OAAO,CAAC0D,kBAAkB,CAACyB,KAAK,EAAErE,KAAK,CAAC;IAE7C,IAAI,CAACd,OAAO,CAACkC,UAAU,CAACpB,KAAK,CAAC;IAE9B;IACA;IACA;IACA;IACA;IACA,IAAI,CAAAsI,EAAA,IAAAD,EAAA,OAAI,CAACnJ,OAAO,EAACoC,qCAAqC,cAAAgH,EAAA,uBAAAA,EAAA,CAAAlJ,IAAA,CAAAiJ,EAAA,CAAI,EAAE;MAC1D,IAAI,CAACnC,gBAAgB,CAAClG,KAAK,CAAC;;IAG9B;IACA0I,KAAK,CAACM,cAAc,EAAE;EACxB,CAAC;EAED;;;EAGQjK,mBAAA,CAAAyE,SAAA,CAAAsF,qBAAqB,GAA7B,UAA8BH,OAAe,EAAEtE,KAAa;IAC1D;IACA;IACA,IAAI,CAAC,IAAI,CAACtE,OAAO,EAAE,OAAOrB,KAAK,CAACwF,GAAG;IAEnC;IACA,IAAM8F,cAAc,GAAG,IAAI,CAAC9K,OAAO,CAACuC,0BAA0B,CAAC/C,KAAK,CAACuF,KAAK,CAAC;IAC3E,IAAMgG,YAAY,GAAG,IAAI,CAAC/K,OAAO,CAACuC,0BAA0B,CAAC/C,KAAK,CAACwF,GAAG,CAAC;IACvE,IAAMgG,kBAAkB,GACpBvB,OAAO,IAAIqB,cAAc,CAACnI,IAAI,IAAI8G,OAAO,IAAIqB,cAAc,CAACrI,KAAK;IACrE,IAAMwI,gBAAgB,GAClBxB,OAAO,IAAIsB,YAAY,CAACpI,IAAI,IAAI8G,OAAO,IAAIsB,YAAY,CAACtI,KAAK;IAEjE,IAAIuI,kBAAkB,IAAIC,gBAAgB,EAAE;MAC1C;MACA,OAAO,IAAI;;IAGb;IACA;IACA,IAAID,kBAAkB,EAAE;MACtB,OAAOxL,KAAK,CAACuF,KAAK;;IAEpB,IAAIkG,gBAAgB,EAAE;MACpB,OAAOzL,KAAK,CAACwF,GAAG;;IAGlB;IACA,IAAIG,KAAK,GAAG,IAAI,CAACE,UAAU,EAAE;MAC3B,OAAO7F,KAAK,CAACuF,KAAK;;IAEpB,IAAII,KAAK,GAAG,IAAI,CAACA,KAAK,EAAE;MACtB,OAAO3F,KAAK,CAACwF,GAAG;;IAGlB;IACA,OAAQG,KAAK,GAAG,IAAI,CAACE,UAAU,IAAI,IAAI,CAACF,KAAK,GAAGA,KAAK,GAAI3F,KAAK,CAACuF,KAAK,GACXvF,KAAK,CAACwF,GAAG;EACpE,CAAC;EAED;;;;;EAKQnF,mBAAA,CAAAyE,SAAA,CAAA0F,qBAAqB,GAA7B,UAA8BP,OAAe;IAC3C;IACA,IAAI,IAAI,CAAC3I,KAAK,KAAK,IAAI,EAAE,OAAO,IAAI,CAACA,KAAK;IAE1C,IAAI,IAAI,CAACC,gBAAgB,KAAK,IAAI,EAAE;MAClC,MAAM,IAAIkH,KAAK,CAAC,8CAA8C,CAAC;;IAGjE,IAAMiD,0BAA0B,GAC5BC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACrK,gBAAgB,GAAG0I,OAAO,CAAC,GAAGnK,OAAO,CAAC+L,mBAAmB;IAC3E,IAAIH,0BAA0B,EAAE,OAAO,IAAI,CAACpK,KAAK;IAEjD,IAAMwK,kBAAkB,GAAG7B,OAAO,GAAG,IAAI,CAAC1I,gBAAgB;IAC1D,IAAIuK,kBAAkB,EAAE;MACtB,OAAO,IAAI,CAACtL,OAAO,CAAC+C,KAAK,EAAE,GAAGvD,KAAK,CAACwF,GAAG,GAAGxF,KAAK,CAACuF,KAAK;KACtD,MAAM;MACL,OAAO,IAAI,CAAC/E,OAAO,CAAC+C,KAAK,EAAE,GAAGvD,KAAK,CAACuF,KAAK,GAAGvF,KAAK,CAACwF,GAAG;;EAEzD,CAAC;EAED;;;;;EAKQnF,mBAAA,CAAAyE,SAAA,CAAAqD,QAAQ,GAAhB,UAAiB7G,KAAa;IAC5B,IAAIA,KAAK,EAAE;MACT,IAAI,CAACyK,6BAA6B,CAACzK,KAAK,CAAC;KAC1C,MAAM;MACL,IAAI,CAACyK,6BAA6B,CAAC/L,KAAK,CAACuF,KAAK,CAAC;MAC/C,IAAI,CAACwG,6BAA6B,CAAC/L,KAAK,CAACwF,GAAG,CAAC;;IAE/C,IAAI,CAACwG,qBAAqB,CAAC1K,KAAK,CAAC;IACjC,IAAI,CAAC0H,sBAAsB,CAAC1H,KAAK,CAAC;IAClC,IAAI,CAAC2H,iBAAiB,EAAE;EAC1B,CAAC;EAED;;;;EAIQ5I,mBAAA,CAAAyE,SAAA,CAAAiH,6BAA6B,GAArC,UAAsCzK,KAAa;IACjD,IAAI,CAACA,KAAK,EAAE;IAEZ,IAAMqE,KAAK,GACP,IAAI,CAACtE,OAAO,IAAIC,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAG,IAAI,CAACM,UAAU,GAAG,IAAI,CAACF,KAAK;IACxE,IAAMsG,QAAQ,GAAGC,MAAM,CAACvG,KAAK,CAAC;IAC9B,IAAI,CAACnF,OAAO,CAACgC,iBAAiB,CAAC5C,UAAU,CAACgG,WAAW,EAAEqG,QAAQ,EAAE3K,KAAK,CAAC;IACvE,IAAI,IAAI,CAACD,OAAO,IAAIC,KAAK,KAAKtB,KAAK,CAACuF,KAAK,EAAE;MACzC,IAAI,CAAC/E,OAAO,CAACgC,iBAAiB,CAC1B5C,UAAU,CAAC0F,SAAS,EAAE4G,MAAM,CAACvG,KAAK,GAAG,IAAI,CAACzE,QAAQ,CAAC,EAAElB,KAAK,CAACwF,GAAG,CAAC;KACpE,MAAM,IAAI,IAAI,CAACnE,OAAO,IAAIC,KAAK,KAAKtB,KAAK,CAACwF,GAAG,EAAE;MAC9C,IAAI,CAAChF,OAAO,CAACgC,iBAAiB,CAC1B5C,UAAU,CAAC8F,SAAS,EAAEwG,MAAM,CAACvG,KAAK,GAAG,IAAI,CAACzE,QAAQ,CAAC,EAAElB,KAAK,CAACuF,KAAK,CAAC;;IAGvE;IACA,IAAI,IAAI,CAAC/E,OAAO,CAAC6B,aAAa,CAACf,KAAK,CAAC,KAAK2K,QAAQ,EAAE;MAClD,IAAI,CAACzL,OAAO,CAAC8B,aAAa,CAAC2J,QAAQ,EAAE3K,KAAK,CAAC;;IAG7C,IAAM6K,sBAAsB,GAAG,IAAI,CAAC3L,OAAO,CAACqD,yBAAyB,EAAE;IACvE,IAAIsI,sBAAsB,EAAE;MAC1B,IAAI,CAAC3L,OAAO,CAACgC,iBAAiB,CAC1B5C,UAAU,CAACwM,cAAc,EAAED,sBAAsB,CAACxG,KAAK,EAAErE,KAAK,CAAC,EAC/DA,KAAK,CAAC;;EAEd,CAAC;EAED;;;;;EAKQjB,mBAAA,CAAAyE,SAAA,CAAAkE,sBAAsB,GAA9B,UAA+B1H,KAAa;IAC1C,IAAI,CAAC,IAAI,CAACP,UAAU,EAAE;IAEtB,IAAM4E,KAAK,GACP,IAAI,CAACtE,OAAO,IAAIC,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAG,IAAI,CAACM,UAAU,GAAG,IAAI,CAACF,KAAK;IACxE,IAAI,CAACnF,OAAO,CAACoD,qBAAqB,CAC9B+B,KAAK,EAAErE,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAGvF,KAAK,CAACuF,KAAK,GAAGvF,KAAK,CAACwF,GAAG,CAAC;IAE3D,IAAI,CAAClE,KAAK,IAAI,IAAI,CAACD,OAAO,EAAE;MAC1B,IAAI,CAACb,OAAO,CAACoD,qBAAqB,CAAC,IAAI,CAACiC,UAAU,EAAE7F,KAAK,CAACuF,KAAK,CAAC;;EAEpE,CAAC;EAED;;;EAGQlF,mBAAA,CAAAyE,SAAA,CAAAmE,iBAAiB,GAAzB;IACE,IAAI,CAAC,IAAI,CAAClI,UAAU,IAAI,CAAC,IAAI,CAACK,YAAY,EAAE;IAE5C,IAAMiL,yBAAyB,GAAG,CAAC,IAAI,CAACxG,UAAU,GAAG,IAAI,CAACT,GAAG,IAAI,IAAI,CAACpE,IAAI;IAC1E,IAAMsL,kBAAkB,GAAG,CAAC,IAAI,CAAC3G,KAAK,GAAG,IAAI,CAACE,UAAU,IAAI,IAAI,CAAC7E,IAAI,GAAG,CAAC;IACzE,IAAMuL,uBAAuB,GAAG,CAAC,IAAI,CAAC9G,GAAG,GAAG,IAAI,CAACE,KAAK,IAAI,IAAI,CAAC3E,IAAI;IACnE,IAAMwL,sBAAsB,GACxBC,KAAK,CAACC,IAAI,CAAW;MAACC,MAAM,EAAEN;IAAyB,CAAC,CAAC,CACpDO,IAAI,CAAC3M,QAAQ,CAAC4M,QAAQ,CAAC;IAChC,IAAMC,eAAe,GAAGL,KAAK,CAACC,IAAI,CAAW;MAACC,MAAM,EAAEL;IAAkB,CAAC,CAAC,CAC7CM,IAAI,CAAC3M,QAAQ,CAAC8M,MAAM,CAAC;IAClD,IAAMC,oBAAoB,GACtBP,KAAK,CAACC,IAAI,CAAW;MAACC,MAAM,EAAEJ;IAAuB,CAAC,CAAC,CAClDK,IAAI,CAAC3M,QAAQ,CAAC4M,QAAQ,CAAC;IAEhC,IAAI,CAACrM,OAAO,CAACsD,eAAe,CAAC0I,sBAAsB,CAACS,MAAM,CAACH,eAAe,CAAC,CACzCG,MAAM,CAACD,oBAAoB,CAAC,CAAC;EACjE,CAAC;EAED;EACQ3M,mBAAA,CAAAyE,SAAA,CAAAqF,uBAAuB,GAA/B,UAAgCF,OAAe;IAC7C,IAAMiD,IAAI,GAAGjD,OAAO,GAAG,IAAI,CAACH,IAAI,CAAC3G,IAAI;IACrC,IAAIgK,WAAW,GAAGD,IAAI,GAAG,IAAI,CAACpD,IAAI,CAAC1G,KAAK;IACxC,IAAI,IAAI,CAAC5C,OAAO,CAAC+C,KAAK,EAAE,EAAE;MACxB4J,WAAW,GAAG,CAAC,GAAGA,WAAW;;IAG/B;IACA;IACA,IAAMxH,KAAK,GAAG,IAAI,CAACP,GAAG,GAAG+H,WAAW,IAAI,IAAI,CAAC1H,GAAG,GAAG,IAAI,CAACL,GAAG,CAAC;IAC5D,IAAIO,KAAK,KAAK,IAAI,CAACF,GAAG,IAAIE,KAAK,KAAK,IAAI,CAACP,GAAG,EAAE;MAC5C,OAAOO,KAAK;;IAEd,OAAOwF,MAAM,CAAC,IAAI,CAACiC,QAAQ,CAACzH,KAAK,CAAC,CAAC0H,OAAO,CAAC,IAAI,CAAClH,gBAAgB,CAAC,CAAC;EACpE,CAAC;EAED;EACQ9F,mBAAA,CAAAyE,SAAA,CAAAsI,QAAQ,GAAhB,UAAiBzH,KAAa;IAC5B,IAAM2H,QAAQ,GAAG3B,IAAI,CAAC4B,KAAK,CAAC,CAAC5H,KAAK,GAAG,IAAI,CAACP,GAAG,IAAI,IAAI,CAACpE,IAAI,CAAC;IAC3D,OAAO,IAAI,CAACoE,GAAG,GAAGkI,QAAQ,GAAG,IAAI,CAACtM,IAAI;EACxC,CAAC;EAED;;;EAGQX,mBAAA,CAAAyE,SAAA,CAAA4D,WAAW,GAAnB,UAAoB/C,KAAa,EAAErE,KAAY,EAAEqI,EAEf;QAFeC,EAAA,GAAAD,EAAA,cAEjB,EAAE,GAAAA,EAAA;MADhC1F,cAAc,GAAA2F,EAAA,CAAA3F,cAAA;IAEd0B,KAAK,GAAG,IAAI,CAAC6H,UAAU,CAAC7H,KAAK,EAAErE,KAAK,CAAC;IAErC,IAAI,IAAI,CAACD,OAAO,IAAIC,KAAK,KAAKtB,KAAK,CAACuF,KAAK,EAAE;MACzC;MACA,IAAI,IAAI,CAACM,UAAU,KAAKF,KAAK,EAAE;MAE/B,IAAI,CAACE,UAAU,GAAGF,KAAK;KACxB,MAAM;MACL;MACA,IAAI,IAAI,CAACA,KAAK,KAAKA,KAAK,EAAE;MAE1B,IAAI,CAACA,KAAK,GAAGA,KAAK;;IAGpB,IAAI,CAACwC,QAAQ,CAAC7G,KAAK,CAAC;IAEpB,IAAI2C,cAAc,EAAE;MAClB,IAAI,CAACzD,OAAO,CAACyD,cAAc,CACvB3C,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAG,IAAI,CAACM,UAAU,GAAG,IAAI,CAACF,KAAK,EAAErE,KAAK,CAAC;;EAEpE,CAAC;EAED;;;;;;EAMQjB,mBAAA,CAAAyE,SAAA,CAAA0I,UAAU,GAAlB,UAAmB7H,KAAa,EAAErE,KAAY;IAC5C;IACAqE,KAAK,GAAGgG,IAAI,CAACvG,GAAG,CAACuG,IAAI,CAAClG,GAAG,CAACE,KAAK,EAAE,IAAI,CAACP,GAAG,CAAC,EAAE,IAAI,CAACK,GAAG,CAAC;IAErD,IAAMgI,2BAA2B,GAAG,IAAI,CAACpM,OAAO,IAAIC,KAAK,KAAKtB,KAAK,CAACuF,KAAK,IACrEI,KAAK,GAAG,IAAI,CAACA,KAAK,GAAG,IAAI,CAACzE,QAAQ;IACtC,IAAIuM,2BAA2B,EAAE;MAC/B,OAAO,IAAI,CAAC9H,KAAK,GAAG,IAAI,CAACzE,QAAQ;;IAEnC,IAAMwM,2BAA2B,GAAG,IAAI,CAACrM,OAAO,IAAIC,KAAK,KAAKtB,KAAK,CAACwF,GAAG,IACnEG,KAAK,GAAG,IAAI,CAACE,UAAU,GAAG,IAAI,CAAC3E,QAAQ;IAC3C,IAAIwM,2BAA2B,EAAE;MAC/B,OAAO,IAAI,CAAC7H,UAAU,GAAG,IAAI,CAAC3E,QAAQ;;IAGxC,OAAOyE,KAAK;EACd,CAAC;EAED;;;;EAIQtF,mBAAA,CAAAyE,SAAA,CAAAkH,qBAAqB,GAA7B,UAA8B1K,KAAa;IAA3C,IAAAb,KAAA;IACQ,IAAAkJ,EAAA,GAAa,IAAI;MAAhBlE,GAAG,GAAAkE,EAAA,CAAAlE,GAAA;MAAEL,GAAG,GAAAuE,EAAA,CAAAvE,GAAQ;IACvB,IAAM+H,WAAW,GAAG,CAAC,IAAI,CAACxH,KAAK,GAAG,IAAI,CAACE,UAAU,KAAKJ,GAAG,GAAGL,GAAG,CAAC;IAChE,IAAMuI,OAAO,GAAGR,WAAW,GAAG,IAAI,CAACrD,IAAI,CAAC1G,KAAK;IAC7C,IAAMwK,KAAK,GAAG,IAAI,CAACpN,OAAO,CAAC+C,KAAK,EAAE;IAElC,IAAMsK,aAAa,GACf1N,UAAU,GAAGT,sBAAsB,CAACU,MAAM,EAAE,WAAW,CAAC,GAAG,WAAW;IAC1E,IAAI,IAAI,CAACiB,OAAO,EAAE;MAChB,IAAMyM,cAAY,GAAG,IAAI,CAACtN,OAAO,CAAC+C,KAAK,EAAE,GACrC,CAACkC,GAAG,GAAG,IAAI,CAACE,KAAK,KAAKF,GAAG,GAAGL,GAAG,CAAC,GAAG,IAAI,CAAC0E,IAAI,CAAC1G,KAAK,GAClD,CAAC,IAAI,CAACyC,UAAU,GAAGT,GAAG,KAAKK,GAAG,GAAGL,GAAG,CAAC,GAAG,IAAI,CAAC0E,IAAI,CAAC1G,KAAK;MAC3D,IAAM2K,eAAa,GAAGD,cAAY,GAAGH,OAAO;MAE5C,IAAI,CAACjM,SAAS,CAACsM,OAAO,CAAC9N,aAAa,CAAC+N,aAAa,EAAE;QAClD;QACA;QACA,IAAMC,sBAAsB,GAAI,CAACN,KAAK,IAAItM,KAAK,KAAKtB,KAAK,CAACuF,KAAK,IAC1DqI,KAAK,IAAItM,KAAK,KAAKtB,KAAK,CAACuF,KAAM;QACpC,IAAI2I,sBAAsB,EAAE;UAC1BzN,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CAAC,kBAAkB,EAAE,OAAO,CAAC;UACrEjD,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CAAC,MAAM,EAAE,MAAM,CAAC;UACxDjD,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CACpC,OAAO,EAAKjD,KAAI,CAACqJ,IAAI,CAAC1G,KAAK,GAAG2K,eAAa,OAAI,CAAC;SACrD,MAAM;UACLtN,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CAAC,kBAAkB,EAAE,MAAM,CAAC;UACpEjD,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CAAC,OAAO,EAAE,MAAM,CAAC;UACzDjD,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CAAC,MAAM,EAAKoK,cAAY,OAAI,CAAC;;QAEvErN,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CACpCmK,aAAa,EAAE,YAAUV,WAAW,MAAG,CAAC;QAE5C;QACA,IAAMgB,aAAa,GAAGP,KAAK,GAAGG,eAAa,GAAGD,cAAY;QAC1D,IAAMM,WAAW,GAAG3N,KAAI,CAACD,OAAO,CAAC+C,KAAK,EAAE,GAAGuK,cAAY,GAAGC,eAAa;QACvE,IAAIzM,KAAK,KAAKtB,KAAK,CAACuF,KAAK,IAAI,CAACjE,KAAK,IAAI,CAACb,KAAI,CAACI,oBAAoB,EAAE;UACjEJ,KAAI,CAACD,OAAO,CAACgD,qBAAqB,CAC9BqK,aAAa,EAAE,gBAAcM,aAAa,QAAK,EAAEnO,KAAK,CAACuF,KAAK,CAAC;UACjE9E,KAAI,CAAC4N,mBAAmB,CAACrO,KAAK,CAACuF,KAAK,EAAE4I,aAAa,CAAC;;QAEtD,IAAI7M,KAAK,KAAKtB,KAAK,CAACwF,GAAG,IAAI,CAAClE,KAAK,IAAI,CAACb,KAAI,CAACI,oBAAoB,EAAE;UAC/DJ,KAAI,CAACD,OAAO,CAACgD,qBAAqB,CAC9BqK,aAAa,EAAE,gBAAcO,WAAW,QAAK,EAAEpO,KAAK,CAACwF,GAAG,CAAC;UAC7D/E,KAAI,CAAC4N,mBAAmB,CAACrO,KAAK,CAACwF,GAAG,EAAE4I,WAAW,CAAC;;QAGlD3N,KAAI,CAAC6N,mBAAmB,CAACV,KAAK,CAAC;QAC/BnN,KAAI,CAAC8N,yBAAyB,CAACJ,aAAa,EAAEC,WAAW,EAAE9M,KAAK,CAAC;MACnE,CAAC,CAAC;KACH,MAAM;MACL,IAAI,CAACI,SAAS,CAACsM,OAAO,CAAC9N,aAAa,CAAC+N,aAAa,EAAE;QAClD,IAAME,aAAa,GAAGP,KAAK,GAAGnN,KAAI,CAACqJ,IAAI,CAAC1G,KAAK,GAAGuK,OAAO,GAAGA,OAAO;QACjElN,KAAI,CAACD,OAAO,CAACgD,qBAAqB,CAC9BqK,aAAa,EAAE,gBAAcM,aAAa,QAAK,EAAEnO,KAAK,CAACwF,GAAG,CAAC;QAC/D/E,KAAI,CAAC4N,mBAAmB,CAACrO,KAAK,CAACwF,GAAG,EAAE2I,aAAa,CAAC;QAClD1N,KAAI,CAACD,OAAO,CAACkD,2BAA2B,CACpCmK,aAAa,EAAE,YAAUV,WAAW,MAAG,CAAC;QAE5C1M,KAAI,CAAC6N,mBAAmB,CAACV,KAAK,CAAC;MACjC,CAAC,CAAC;;EAEN,CAAC;EAED;;;;EAIQvN,mBAAA,CAAAyE,SAAA,CAAAuJ,mBAAmB,GAA3B,UAA4B/M,KAAY,EAAEkN,QAAgB;IACxD,IAAI,CAAC,IAAI,CAACzN,UAAU,EAAE;IACtB,IAAM0N,cAAc,GAChB,IAAI,CAACjO,OAAO,CAACuC,0BAA0B,CAACzB,KAAK,CAAC,CAAC8B,KAAK,GAAG,CAAC;IAC5D,IAAMsL,cAAc,GAAG,IAAI,CAAClO,OAAO,CAACsC,+BAA+B,CAACxB,KAAK,CAAC;IAC1E,IAAMqN,WAAW,GAAG,IAAI,CAACnO,OAAO,CAAC8C,qBAAqB,EAAE,CAACF,KAAK;IAC9D,IAAIsL,cAAc,GAAG,CAAC,GAAGF,QAAQ,GAAGC,cAAc,EAAE;MAClD,IAAI,CAACjO,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC6O,8BAA8B,EAAKH,cAAc,OAAI,EAAEnN,KAAK,CAAC;MACzE,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC8O,+BAA+B,EAAE,MAAM,EAAEvN,KAAK,CAAC;MAC3D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC+O,mCAAmC,EAAE,kBAAkB,EAC/DxN,KAAK,CAAC;MACV,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACgP,kCAAkC,EAAE,GAAG,EAAEzN,KAAK,CAAC;MAC3D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACiP,mCAAmC,EAAE,MAAM,EAAE1N,KAAK,CAAC;MAC/D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACkP,uCAAuC,EAAE,MAAM,EAAE3N,KAAK,CAAC;KACpE,MAAM,IAAIoN,cAAc,GAAG,CAAC,GAAGC,WAAW,GAAGH,QAAQ,GAAGC,cAAc,EAAE;MACvE,IAAI,CAACjO,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC6O,8BAA8B,EAAE,MAAM,EAAEtN,KAAK,CAAC;MAC1D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC8O,+BAA+B,EAAKJ,cAAc,OAAI,EAC9DnN,KAAK,CAAC;MACV,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC+O,mCAAmC,EAAE,iBAAiB,EAC9DxN,KAAK,CAAC;MACV,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACgP,kCAAkC,EAAE,MAAM,EAAEzN,KAAK,CAAC;MAC9D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACiP,mCAAmC,EAAE,GAAG,EAAE1N,KAAK,CAAC;MAC5D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACkP,uCAAuC,EAAE,MAAM,EAAE3N,KAAK,CAAC;KACpE,MAAM;MACL,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC6O,8BAA8B,EAAE,KAAK,EAAEtN,KAAK,CAAC;MACzD,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC8O,+BAA+B,EAAE,MAAM,EAAEvN,KAAK,CAAC;MAC3D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAAC+O,mCAAmC,EAAE,kBAAkB,EAC/DxN,KAAK,CAAC;MACV,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACgP,kCAAkC,EAAE,KAAK,EAAEzN,KAAK,CAAC;MAC7D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACiP,mCAAmC,EAAE,MAAM,EAAE1N,KAAK,CAAC;MAC/D,IAAI,CAACd,OAAO,CAACgD,qBAAqB,CAC9BzD,OAAO,CAACkP,uCAAuC,EAAE,kBAAkB,EACnE3N,KAAK,CAAC;;EAEd,CAAC;EAED;;;;;;;;;EASQjB,mBAAA,CAAAyE,SAAA,CAAAwJ,mBAAmB,GAA3B,UAA4BV,KAAc;IACxC,IAAI,IAAI,CAAC/M,oBAAoB,EAAE;IAE/B;IACA,IAAMqO,QAAQ,GAAGtB,KAAK,GAAG,OAAO,GAAG,MAAM;IACzC,IAAI,CAACpN,OAAO,CAACiD,wBAAwB,CAACyL,QAAQ,EAAElP,KAAK,CAACwF,GAAG,CAAC;IAC1D,IAAI,IAAI,CAACnE,OAAO,EAAE;MAChB,IAAI,CAACb,OAAO,CAACiD,wBAAwB,CAACyL,QAAQ,EAAElP,KAAK,CAACuF,KAAK,CAAC;;IAG9D,IAAI,CAAC1E,oBAAoB,GAAG,IAAI;IAEhC,IAAI,CAACsO,2BAA2B,EAAE;EACpC,CAAC;EAED;;;;EAIQ9O,mBAAA,CAAAyE,SAAA,CAAAqK,2BAA2B,GAAnC;IAAA,IAAA1O,KAAA;IACE,IAAI,CAAC,IAAI,CAACM,UAAU,EAAE;IAEtB;IACA;IACA;IACA,IAAMqO,cAAc,GAAGjP,UAAU,GAC7BT,sBAAsB,CAACU,MAAM,EAAE,YAAY,CAAC,GAC5C,YAAY;IAChB,IAAMiP,iBAAiB,GAAG,iBAAiB;IAC3C,IAAI,CAAC7O,OAAO,CAACgD,qBAAqB,CAC9B4L,cAAc,EAAEC,iBAAiB,EAAErP,KAAK,CAACwF,GAAG,CAAC;IACjD,IAAI,IAAI,CAACnE,OAAO,EAAE;MAChB,IAAI,CAACb,OAAO,CAACgD,qBAAqB,CAC9B4L,cAAc,EAAEC,iBAAiB,EAAErP,KAAK,CAACuF,KAAK,CAAC;;IAErD,IAAI,CAAC/E,OAAO,CAACkD,2BAA2B,CAAC0L,cAAc,EAAEC,iBAAiB,CAAC;IAE3E;IACA;IACAC,qBAAqB,CAAC;MACpB7O,KAAI,CAACD,OAAO,CAACiD,wBAAwB,CAAC2L,cAAc,EAAEpP,KAAK,CAACwF,GAAG,CAAC;MAChE/E,KAAI,CAACD,OAAO,CAACmD,8BAA8B,CAACyL,cAAc,CAAC;MAC3D,IAAI3O,KAAI,CAACY,OAAO,EAAE;QAChBZ,KAAI,CAACD,OAAO,CAACiD,wBAAwB,CAAC2L,cAAc,EAAEpP,KAAK,CAACuF,KAAK,CAAC;;IAEtE,CAAC,CAAC;EACJ,CAAC;EAED;;;;;EAKQlF,mBAAA,CAAAyE,SAAA,CAAAyJ,yBAAyB,GAAjC,UACIJ,aAAqB,EAAEC,WAAmB,EAAE9M,KAAa;IAC3D,IAAIiO,aAAa,GAAG,KAAK;IACzB,IAAI,IAAI,CAAC/O,OAAO,CAAC+C,KAAK,EAAE,EAAE;MACxB,IAAMiM,kBAAkB,GAAGrB,aAAa,GAAG,IAAI,CAAC3M,mBAAmB,GAAG,CAAC;MACvE,IAAMiO,iBAAiB,GAAGrB,WAAW,GAAG,IAAI,CAAC3M,iBAAiB,GAAG,CAAC;MAClE8N,aAAa,GAAGE,iBAAiB,IAAID,kBAAkB;KACxD,MAAM;MACL,IAAME,mBAAmB,GAAGvB,aAAa,GAAG,IAAI,CAAC3M,mBAAmB,GAAG,CAAC;MACxE,IAAMmO,gBAAgB,GAAGvB,WAAW,GAAG,IAAI,CAAC3M,iBAAiB,GAAG,CAAC;MACjE8N,aAAa,GAAGG,mBAAmB,IAAIC,gBAAgB;;IAGzD,IAAIJ,aAAa,EAAE;MACjB,IAAI,CAAC/O,OAAO,CAAC0B,aAAa,CACtBrC,UAAU,CAAC+P,SAAS;MACpB;MACA;MACAtO,KAAK,IAAItB,KAAK,CAACwF,GAAG,CAAC;MACvB,IAAI,CAAChF,OAAO,CAAC2B,gBAAgB,CACzBtC,UAAU,CAAC+P,SAAS,EACpBtO,KAAK,KAAKtB,KAAK,CAACuF,KAAK,GAAGvF,KAAK,CAACwF,GAAG,GAAGxF,KAAK,CAACuF,KAAK,CAAC;KACrD,MAAM;MACL,IAAI,CAAC/E,OAAO,CAAC2B,gBAAgB,CAACtC,UAAU,CAAC+P,SAAS,EAAE5P,KAAK,CAACuF,KAAK,CAAC;MAChE,IAAI,CAAC/E,OAAO,CAAC2B,gBAAgB,CAACtC,UAAU,CAAC+P,SAAS,EAAE5P,KAAK,CAACwF,GAAG,CAAC;;EAElE,CAAC;EAED;;;;;;EAMQnF,mBAAA,CAAAyE,SAAA,CAAAO,6BAA6B,GAArC,UACIwK,cAA2B,EAAEC,aAAqB;IACpD,IAAID,cAAc,KAAK,IAAI,EAAE;MAC3B,MAAM,IAAIpH,KAAK,CACX,wBAAwB,GAAGqH,aAAa,GAAG,qBAAqB,CAAC;;IAGvE,IAAMnK,KAAK,GAAGwF,MAAM,CAAC0E,cAAc,CAAC;IACpC,IAAIE,KAAK,CAACpK,KAAK,CAAC,EAAE;MAChB,MAAM,IAAI8C,KAAK,CACX,wBAAwB,GAAGqH,aAAa,GAAG,cAAc,GACzDD,cAAc,GAAG,0BAA0B,CAAC;;IAGlD,OAAOlK,KAAK;EACd,CAAC;EAED;EACQtF,mBAAA,CAAAyE,SAAA,CAAAoB,kBAAkB,GAA1B,UAA2ByD,EAO1B;QAP2BvE,GAAG,GAAAuE,EAAA,CAAAvE,GAAA;MAAEK,GAAG,GAAAkE,EAAA,CAAAlE,GAAA;MAAEE,KAAK,GAAAgE,EAAA,CAAAhE,KAAA;MAAEE,UAAU,GAAA8D,EAAA,CAAA9D,UAAA;MAAE7E,IAAI,GAAA2I,EAAA,CAAA3I,IAAA;MAAEE,QAAQ,GAAAyI,EAAA,CAAAzI,QAAA;IAQrE,IAAIkE,GAAG,IAAIK,GAAG,EAAE;MACd,MAAM,IAAIgD,KAAK,CACX,2DAA2D,IAC3D,oBAAkBrD,GAAG,eAAUK,GAAG,MAAG,EAAC;;IAG5C,IAAIzE,IAAI,IAAI,CAAC,EAAE;MACb,MAAM,IAAIyH,KAAK,CACX,uDAAuD,IACvD,mBAAiBzH,IAAM,EAAC;;IAG9B,IAAI,IAAI,CAACK,OAAO,EAAE;MAChB,IAAIsE,KAAK,GAAGP,GAAG,IAAIO,KAAK,GAAGF,GAAG,IAAII,UAAU,GAAGT,GAAG,IAAIS,UAAU,GAAGJ,GAAG,EAAE;QACtE,MAAM,IAAIgD,KAAK,CACX,2DAA2D,IAC3D,mCAAiC5C,UAAU,kBAAe,KACvDF,KAAK,eAAUP,GAAG,eAAUK,GAAG,MAAG,EAAC;;MAG5C,IAAII,UAAU,GAAGF,KAAK,EAAE;QACtB,MAAM,IAAI8C,KAAK,CACX,yDAAyD,IACzD,mCAAiC5C,UAAU,qBACvCF,KAAK,MAAG,EAAC;;MAGnB,IAAIzE,QAAQ,GAAG,CAAC,EAAE;QAChB,MAAM,IAAIuH,KAAK,CACX,2DAA2D,IAC3D,wBAAsBvH,QAAU,EAAC;;MAGvC,IAAIyE,KAAK,GAAGE,UAAU,GAAG3E,QAAQ,EAAE;QACjC,MAAM,IAAIuH,KAAK,CACX,yEAAyE,IACtEvH,QAAQ,wCAAmC2E,UAAU,OAAI,KAC5D,gBAAcF,KAAK,MAAG,EAAC;;MAG7B,IAAMqK,yBAAyB,GAAG,CAACnK,UAAU,GAAGT,GAAG,IAAIpE,IAAI;MAC3D,IAAMiP,oBAAoB,GAAG,CAACtK,KAAK,GAAGP,GAAG,IAAIpE,IAAI;MACjD,IAAI,CAACmK,MAAM,CAAC+E,SAAS,CAACC,UAAU,CAACH,yBAAyB,CAAC3C,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IACnE,CAAClC,MAAM,CAAC+E,SAAS,CAACC,UAAU,CAACF,oBAAoB,CAAC5C,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAClE,MAAM,IAAI5E,KAAK,CACX,gEAAgE,IAChE,iBAAezH,IAAI,sCAAmC,KACnD6E,UAAU,qBAAgBF,KAAK,eAAUP,GAAG,MAAG,EAAC;;KAE1D,MAAM;MAAG;MACR,IAAIO,KAAK,GAAGP,GAAG,IAAIO,KAAK,GAAGF,GAAG,EAAE;QAC9B,MAAM,IAAIgD,KAAK,CACX,0DAA0D,IAC1D,6BAA2B9C,KAAK,eAAUP,GAAG,eAAUK,GAAG,MAAG,EAAC;;MAGpE,IAAMwK,oBAAoB,GAAG,CAACtK,KAAK,GAAGP,GAAG,IAAIpE,IAAI;MACjD,IAAI,CAACmK,MAAM,CAAC+E,SAAS,CAACC,UAAU,CAACF,oBAAoB,CAAC5C,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAClE,MAAM,IAAI5E,KAAK,CACX,+DAA+D,IAC/D,iBAAezH,IAAI,0BAAqB2E,KAAO,EAAC;;;EAG1D,CAAC;EAEOtF,mBAAA,CAAAyE,SAAA,CAAAiD,qBAAqB,GAA7B;IACE,IAAI,CAACvH,OAAO,CAACoE,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAACiD,cAAc,CAAC;IAEtE,IAAIxH,mBAAmB,CAAC+P,uBAAuB,EAAE;MAC/C;MACA,IAAI,CAAC5P,OAAO,CAAC4D,oBAAoB,CAC7B,aAAa,EAAE,IAAI,CAACwC,mBAAmB,CAAC;MAC5C,IAAI,CAACpG,OAAO,CAAC4D,oBAAoB,CAAC,WAAW,EAAE,IAAI,CAAC0C,iBAAiB,CAAC;KACvE,MAAM;MACL;MACA,IAAI,CAACtG,OAAO,CAAC4D,oBAAoB,CAC7B,WAAW,EAAE,IAAI,CAACmC,6BAA6B,CAAC;MACpD,IAAI,CAAC/F,OAAO,CAAC4D,oBAAoB,CAC7B,YAAY,EAAE,IAAI,CAACmC,6BAA6B,CAAC;;IAGvD,IAAI,IAAI,CAAClF,OAAO,EAAE;MAChB,IAAI,CAACb,OAAO,CAAC8D,yBAAyB,CAClCtE,KAAK,CAACuF,KAAK,EAAE,YAAY,EAAE,IAAI,CAACyB,uBAAuB,CAAC;MAC5D,IAAI,CAACxG,OAAO,CAAC8D,yBAAyB,CAClCtE,KAAK,CAACuF,KAAK,EAAE,YAAY,EAAE,IAAI,CAAC2B,uBAAuB,CAAC;MAE5D,IAAI,CAAC1G,OAAO,CAACgE,yBAAyB,CAClCxE,KAAK,CAACuF,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC6B,wBAAwB,CAAC;MACzD,IAAI,CAAC5G,OAAO,CAACgE,yBAAyB,CAClCxE,KAAK,CAACuF,KAAK,EAAE,OAAO,EAAE,IAAI,CAACgC,uBAAuB,CAAC;MACvD,IAAI,CAAC/G,OAAO,CAACgE,yBAAyB,CAClCxE,KAAK,CAACuF,KAAK,EAAE,MAAM,EAAE,IAAI,CAACmC,sBAAsB,CAAC;;IAGvD,IAAI,CAAClH,OAAO,CAAC8D,yBAAyB,CAClCtE,KAAK,CAACwF,GAAG,EAAE,YAAY,EAAE,IAAI,CAACwB,uBAAuB,CAAC;IAC1D,IAAI,CAACxG,OAAO,CAAC8D,yBAAyB,CAClCtE,KAAK,CAACwF,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC0B,uBAAuB,CAAC;IAE1D,IAAI,CAAC1G,OAAO,CAACgE,yBAAyB,CAClCxE,KAAK,CAACwF,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC8B,sBAAsB,CAAC;IACrD,IAAI,CAAC9G,OAAO,CAACgE,yBAAyB,CAClCxE,KAAK,CAACwF,GAAG,EAAE,OAAO,EAAE,IAAI,CAACiC,qBAAqB,CAAC;IACnD,IAAI,CAACjH,OAAO,CAACgE,yBAAyB,CAClCxE,KAAK,CAACwF,GAAG,EAAE,MAAM,EAAE,IAAI,CAACoC,oBAAoB,CAAC;EACnD,CAAC;EAEOvH,mBAAA,CAAAyE,SAAA,CAAAmD,uBAAuB,GAA/B;IACE,IAAI,CAACzH,OAAO,CAACqE,4BAA4B,CAAC,QAAQ,EAAE,IAAI,CAACgD,cAAc,CAAC;IAExE,IAAIxH,mBAAmB,CAAC+P,uBAAuB,EAAE;MAC/C,IAAI,CAAC5P,OAAO,CAAC6D,sBAAsB,CAC/B,aAAa,EAAE,IAAI,CAACuC,mBAAmB,CAAC;MAC5C,IAAI,CAACpG,OAAO,CAAC6D,sBAAsB,CAAC,WAAW,EAAE,IAAI,CAACyC,iBAAiB,CAAC;KACzE,MAAM;MACL,IAAI,CAACtG,OAAO,CAAC6D,sBAAsB,CAC/B,WAAW,EAAE,IAAI,CAACkC,6BAA6B,CAAC;MACpD,IAAI,CAAC/F,OAAO,CAAC6D,sBAAsB,CAC/B,YAAY,EAAE,IAAI,CAACkC,6BAA6B,CAAC;;IAGvD,IAAI,IAAI,CAAClF,OAAO,EAAE;MAChB,IAAI,CAACb,OAAO,CAAC+D,2BAA2B,CACpCvE,KAAK,CAACuF,KAAK,EAAE,YAAY,EAAE,IAAI,CAACyB,uBAAuB,CAAC;MAC5D,IAAI,CAACxG,OAAO,CAAC+D,2BAA2B,CACpCvE,KAAK,CAACuF,KAAK,EAAE,YAAY,EAAE,IAAI,CAAC2B,uBAAuB,CAAC;MAE5D,IAAI,CAAC1G,OAAO,CAACiE,2BAA2B,CACpCzE,KAAK,CAACuF,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC6B,wBAAwB,CAAC;MACzD,IAAI,CAAC5G,OAAO,CAACiE,2BAA2B,CACpCzE,KAAK,CAACuF,KAAK,EAAE,OAAO,EAAE,IAAI,CAACgC,uBAAuB,CAAC;MACvD,IAAI,CAAC/G,OAAO,CAACiE,2BAA2B,CACpCzE,KAAK,CAACuF,KAAK,EAAE,MAAM,EAAE,IAAI,CAACmC,sBAAsB,CAAC;;IAGvD,IAAI,CAAClH,OAAO,CAAC+D,2BAA2B,CACpCvE,KAAK,CAACwF,GAAG,EAAE,YAAY,EAAE,IAAI,CAACwB,uBAAuB,CAAC;IAC1D,IAAI,CAACxG,OAAO,CAAC+D,2BAA2B,CACpCvE,KAAK,CAACwF,GAAG,EAAE,YAAY,EAAE,IAAI,CAAC0B,uBAAuB,CAAC;IAE1D,IAAI,CAAC1G,OAAO,CAACiE,2BAA2B,CACpCzE,KAAK,CAACwF,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC8B,sBAAsB,CAAC;IACrD,IAAI,CAAC9G,OAAO,CAACiE,2BAA2B,CACpCzE,KAAK,CAACwF,GAAG,EAAE,OAAO,EAAE,IAAI,CAACiC,qBAAqB,CAAC;IACnD,IAAI,CAACjH,OAAO,CAACiE,2BAA2B,CACpCzE,KAAK,CAACwF,GAAG,EAAE,MAAM,EAAE,IAAI,CAACoC,oBAAoB,CAAC;EACnD,CAAC;EAEOvH,mBAAA,CAAAyE,SAAA,CAAAiC,eAAe,GAAvB;IACE,IAAI,CAAC0D,QAAQ,EAAE;IAEf,IAAI,CAACjK,OAAO,CAAC6D,sBAAsB,CAAC,aAAa,EAAE,IAAI,CAACqC,YAAY,CAAC;EACvE,CAAC;EAvsCMrG,mBAAA,CAAA+P,uBAAuB,GAAGjQ,UAAU,IAAIkQ,OAAO,CAACjQ,MAAM,CAACkQ,YAAY,CAAC;EACvE;EACA;EACA;EACA,CAACC,KAAK,EAAE;EAosCd,OAAAlQ,mBAAC;CAAA,CAzsCwCV,aAAa;SAAzCU,mBAAmB;AA2sChC,SAASkQ,KAAKA,CAAA;EACZ;EACA;EACA,OAAO,CACL,gBAAgB,EAAE,kBAAkB,EAAE,gBAAgB,EAAE,MAAM,EAAE,QAAQ,EACxE,MAAM,CACP,CAACC,QAAQ,CAACC,SAAS,CAACC,QAAQ;EACzB;EAAA,GACID,SAAS,CAACE,SAAS,CAACH,QAAQ,CAAC,KAAK,CAAC,IAAI,YAAY,IAAII,QAAS;AAC1E;AAEA;;;;;;AAMA,SAASxK,mBAAmBA,CAACyK,CAAS;EACpC;EACA,IAAMC,KAAK,GAAG,mCAAmC,CAACC,IAAI,CAAC7E,MAAM,CAAC2E,CAAC,CAAC,CAAC;EACjE;EACA;EACA,IAAI,CAACC,KAAK,EAAE,OAAO,CAAC;EAEpB,IAAME,QAAQ,GAAGF,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAE;EAClC,IAAMG,QAAQ,GAAGH,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAG;EAClC;EACA;EACA;EACA;EACA,OAAOnF,IAAI,CAAClG,GAAG,CACX,CAAC;EAAG;EACJ,CAACuL,QAAQ,KAAK,GAAG,GAAG,CAAC,GAAGA,QAAQ,CAACrE,MAAM,IAAIxB,MAAM,CAAC8F,QAAQ,CAAC,CAAC;AAClE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}